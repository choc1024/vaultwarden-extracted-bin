"use strict";(self.webpackChunk_bitwarden_web_vault=self.webpackChunk_bitwarden_web_vault||[]).push([[74],{51074:function(n,t,o){o.r(t),o.d(t,{OrganizationVaultExportModule:function(){return W}});var e=o(75115),i=o(71146),r=o(8111),u=o(47064),a=o(58691),l=o(51303),c=o(72407),p=o(99229),s=o(85762),d=o(78627),f=o(99721),g=o(87483),b=o(46811),_=o(66459),Z=o(65071),U=o(53481),x=o(73369),y=o(28508),m=o(56945),w=o(46246),A=o(36338),T=o(81974),h=o(24083),q=o(81168),v=o(24637),I=o(11512),O=o(54666),E=o(1e4),F=o(36179),J=o(44358),P=o(21656),Q=o(21500),Y=o(66079),N=o(28975),C=o(30469),L=o(58618),z=o(80263),B=o(82933),k=function(n,t,o,e){return new(o||(o=Promise))((function(i,r){function u(n){try{l(e.next(n))}catch(t){r(t)}}function a(n){try{l(e.throw(n))}catch(t){r(t)}}function l(n){var t;n.done?i(n.value):(t=n.value,t instanceof o?t:new o((function(n){n(t)}))).then(u,a)}l((e=e.apply(n,t||[])).next())}))};function j(n,t){1&n&&(s.TgZ(0,"bit-callout",7),s.ALo(1,"i18n"),s._uU(2),s.ALo(3,"i18n"),s.qZA()),2&n&&(s.s9C("title",s.lcZ(1,2,"vaultExportDisabled")),s.xp6(2),s.hij("\n      ",s.lcZ(3,4,"personalVaultExportPolicyInEffect"),"\n    "))}function S(n,t){if(1&n&&s._UZ(0,"tools-export-scope-callout",8),2&n){const n=s.oxw();s.Q6J("organizationId",n.organizationId)}}function D(n,t){if(1&n&&s._UZ(0,"bit-option",12),2&n){const n=t.$implicit;s.Q6J("value",n.id)("label",n.name)}}function G(n,t){if(1&n&&(s.TgZ(0,"bit-form-field"),s._uU(1,"\n        "),s.TgZ(2,"bit-label"),s._uU(3),s.ALo(4,"i18n"),s.qZA(),s._uU(5,"\n        "),s.TgZ(6,"bit-select",9),s._uU(7,"\n          "),s._UZ(8,"bit-option",10),s.ALo(9,"i18n"),s._uU(10,"\n          "),s.YNc(11,D,1,2,"bit-option",11),s.ALo(12,"async"),s._uU(13,"\n        "),s.qZA(),s._uU(14,"\n      "),s.qZA()),2&n){const n=s.oxw(2);s.xp6(3),s.Oqu(s.lcZ(4,3,"exportFrom")),s.xp6(5),s.Q6J("label",s.lcZ(9,5,"myVault")),s.xp6(3),s.Q6J("ngForOf",s.lcZ(12,7,n.organizations$))}}function V(n,t){if(1&n&&(s.ynx(0),s._uU(1,"\n      "),s.YNc(2,G,15,9,"bit-form-field",3),s._uU(3,"\n    "),s.BQk()),2&n){const n=t.ngIf;s.xp6(2),s.Q6J("ngIf",n.length>0)}}function H(n,t){if(1&n&&s._UZ(0,"bit-option",13),2&n){const n=t.$implicit;s.Q6J("value",n.value)("label",n.name)}}function M(n,t){if(1&n){const n=s.EpF();s.ynx(0),s._uU(1,"\n        "),s.TgZ(2,"div",17),s._uU(3,"\n          "),s.TgZ(4,"bit-form-field"),s._uU(5,"\n            "),s.TgZ(6,"bit-label"),s._uU(7),s.ALo(8,"i18n"),s.qZA(),s._uU(9,"\n            "),s._UZ(10,"input",18),s._uU(11,"\n            "),s.TgZ(12,"button",19),s.NdJ("toggledChange",(function(t){s.CHM(n);const o=s.oxw(2);return s.KtG(o.showFilePassword=t)})),s.qZA(),s._uU(13,"\n            "),s.TgZ(14,"bit-hint"),s._uU(15),s.ALo(16,"i18n"),s.qZA(),s._uU(17,"\n          "),s.qZA(),s._uU(18,"\n          "),s.TgZ(19,"app-password-strength",20),s._uU(20,"\n          "),s.qZA(),s._uU(21,"\n        "),s.qZA(),s._uU(22,"\n        "),s.TgZ(23,"bit-form-field"),s._uU(24,"\n          "),s.TgZ(25,"bit-label"),s._uU(26),s.ALo(27,"i18n"),s.qZA(),s._uU(28,"\n          "),s._UZ(29,"input",21),s._uU(30,"\n          "),s.TgZ(31,"button",19),s.NdJ("toggledChange",(function(t){s.CHM(n);const o=s.oxw(2);return s.KtG(o.showFilePassword=t)})),s.qZA(),s._uU(32,"\n        "),s.qZA(),s._uU(33,"\n      "),s.BQk()}if(2&n){const n=s.oxw(2);s.xp6(7),s.Oqu(s.lcZ(8,7,"filePassword")),s.xp6(5),s.Q6J("toggled",n.showFilePassword),s.xp6(3),s.Oqu(s.lcZ(16,9,"exportPasswordDescription")),s.xp6(4),s.Q6J("password",n.filePassword)("showText",!0),s.xp6(7),s.Oqu(s.lcZ(27,11,"confirmFilePassword")),s.xp6(5),s.Q6J("toggled",n.showFilePassword)}}function $(n,t){if(1&n&&(s.ynx(0),s._uU(1,"\n      "),s.TgZ(2,"bit-radio-group",14),s._uU(3,"\n        "),s.TgZ(4,"bit-label"),s._uU(5),s.ALo(6,"i18n"),s.qZA(),s._uU(7,"\n\n        "),s.TgZ(8,"bit-radio-button",15),s._uU(9,"\n          "),s.TgZ(10,"bit-label"),s._uU(11),s.ALo(12,"i18n"),s.qZA(),s._uU(13,"\n          "),s.TgZ(14,"bit-hint"),s._uU(15),s.ALo(16,"i18n"),s.qZA(),s._uU(17,"\n        "),s.qZA(),s._uU(18,"\n\n        "),s.TgZ(19,"bit-radio-button",16),s._uU(20,"\n          "),s.TgZ(21,"bit-label"),s._uU(22),s.ALo(23,"i18n"),s.qZA(),s._uU(24,"\n          "),s.TgZ(25,"bit-hint"),s._uU(26),s.ALo(27,"i18n"),s.qZA(),s._uU(28,"\n        "),s.qZA(),s._uU(29,"\n      "),s.qZA(),s._uU(30,"\n\n      "),s.YNc(31,M,34,13,"ng-container",3),s._uU(32,"\n    "),s.BQk()),2&n){const n=s.oxw();s.xp6(5),s.Oqu(s.lcZ(6,8,"exportTypeHeading")),s.xp6(3),s.Q6J("value",n.encryptedExportType.AccountEncrypted),s.xp6(3),s.Oqu(s.lcZ(12,10,"accountRestricted")),s.xp6(4),s.Oqu(s.lcZ(16,12,"accountRestrictedOptionDescription")),s.xp6(4),s.Q6J("value",n.encryptedExportType.FileEncrypted),s.xp6(3),s.Oqu(s.lcZ(23,14,"passwordProtected")),s.xp6(4),s.Oqu(s.lcZ(27,16,"passwordProtectedOptionDescription")),s.xp6(5),s.Q6J("ngIf",n.fileEncryptionType==n.encryptedExportType.FileEncrypted)}}class K extends p.Y{constructor(n,t,o,e,i,r,u,a,l,c,p){super(n,t,o,e,r,u,a,l,c,p),this.route=i}get disabledByPolicy(){return!1}ngOnInit(){const n=Object.create(null,{ngOnInit:{get:()=>super.ngOnInit}});return k(this,void 0,void 0,(function*(){this.route.parent.parent.params.subscribe((n=>k(this,void 0,void 0,(function*(){this.organizationId=n.organizationId})))),yield n.ngOnInit.call(this)}))}getExportData(){return this.exportService.getOrganizationExport(this.organizationId,this.format,this.filePassword)}getFileName(){return super.getFileName("org")}collectEvent(){return k(this,void 0,void 0,(function*(){yield this.eventCollectionService.collect(l.tw.Organization_ClientExportedVault,null,null,this.organizationId)}))}}K.ɵfac=function(n){return new(n||K)(s.Y36(d.D),s.Y36(f.P),s.Y36(c.qX),s.Y36(g.j),s.Y36(r.gz),s.Y36(b.d),s.Y36(_.$),s.Y36(Z.QS),s.Y36(U._),s.Y36(x.x),s.Y36(a.Mn))},K.ɵcmp=s.Xpm({type:K,selectors:[["app-org-export"]],features:[s.qOj],decls:33,vars:16,consts:[[3,"formGroup","bitSubmit"],["type","danger",3,"title",4,"ngIf"],[3,"organizationId",4,"ngIf"],[4,"ngIf"],["formControlName","format"],[3,"value","label",4,"ngFor","ngForOf"],["bitButton","","bitFormButton","","type","submit","buttonType","primary",3,"disabled"],["type","danger",3,"title"],[3,"organizationId"],["formControlName","vaultSelector"],["value","myVault","icon","bwi-user",3,"label"],["icon","bwi-business",3,"value","label",4,"ngFor","ngForOf"],["icon","bwi-business",3,"value","label"],[3,"value","label"],["formControlName","fileEncryptionType","aria-label","exportTypeHeading"],["id","AccountEncrypted","name","fileEncryptionType","checked","fileEncryptionType === encryptedExportType.AccountEncrypted",1,"tw-block",3,"value"],["id","FileEncrypted","name","fileEncryptionType","checked","fileEncryptionType === encryptedExportType.FileEncrypted",1,"tw-block",3,"value"],[1,"tw-mb-3"],["bitInput","","type","password","id","filePassword","formControlName","filePassword","name","password"],["type","button","bitSuffix","","bitIconButton","","bitPasswordInputToggle","",3,"toggled","toggledChange"],[3,"password","showText"],["bitInput","","type","password","id","confirmFilePassword","formControlName","confirmFilePassword","name","confirmFilePassword"]],template:function(n,t){1&n&&(s._UZ(0,"app-header"),s._uU(1,"\n\n"),s.TgZ(2,"bit-container"),s._uU(3,"\n  "),s.TgZ(4,"form",0),s._uU(5,"\n    "),s.YNc(6,j,4,6,"bit-callout",1),s._uU(7,"\n    "),s.YNc(8,S,1,1,"tools-export-scope-callout",2),s._uU(9,"\n\n    "),s.YNc(10,V,4,1,"ng-container",3),s.ALo(11,"async"),s._uU(12,"\n\n    "),s.TgZ(13,"bit-form-field"),s._uU(14,"\n      "),s.TgZ(15,"bit-label"),s._uU(16),s.ALo(17,"i18n"),s.qZA(),s._uU(18,"\n      "),s.TgZ(19,"bit-select",4),s._uU(20,"\n        "),s.YNc(21,H,1,2,"bit-option",5),s._uU(22,"\n      "),s.qZA(),s._uU(23,"\n    "),s.qZA(),s._uU(24,"\n\n    "),s.YNc(25,$,33,18,"ng-container",3),s._uU(26,"\n\n    "),s.TgZ(27,"button",6),s._uU(28),s.ALo(29,"i18n"),s.qZA(),s._uU(30,"\n  "),s.qZA(),s._uU(31,"\n"),s.qZA(),s._uU(32,"\n")),2&n&&(s.xp6(4),s.Q6J("formGroup",t.exportForm)("bitSubmit",t.submit),s.xp6(2),s.Q6J("ngIf",t.disabledByPolicy),s.xp6(2),s.Q6J("ngIf",!t.disabledByPolicy),s.xp6(2),s.Q6J("ngIf",s.lcZ(11,10,t.organizations$)),s.xp6(6),s.Oqu(s.lcZ(17,12,"fileFormat")),s.xp6(5),s.Q6J("ngForOf",t.formatOptions),s.xp6(4),s.Q6J("ngIf","encrypted_json"===t.format),s.xp6(2),s.Q6J("disabled",t.disabledByPolicy),s.xp6(1),s.hij("\n      ",s.lcZ(29,14,"confirmFormat"),"\n    "))},dependencies:[y.sg,y.O5,Z._Y,Z.Fj,Z.JJ,Z.JL,Z.sg,Z.u,m.Z,w.b,A.u,T.r,h.O,q.e,v.d,I.G,O.w,E.e,F.u,J.M,P.Q,Q._,Y.w,N.H,C.x,L.k,z.N,y.Ov,B.C],encapsulation:2});const R=[{path:"",component:K,canActivate:[u.G],data:{titleId:"exportVault",organizationPermissions:n=>n.canAccessImportExport}}];class X{}X.ɵfac=function(n){return new(n||X)},X.ɵmod=s.oAB({type:X}),X.ɵinj=s.cJS({imports:[r.Bz.forChild(R)]});class W{}W.ɵfac=function(n){return new(n||W)},W.ɵmod=s.oAB({type:W}),W.ɵinj=s.cJS({imports:[i.m,i.f,X,e.N]})}}]);
//# sourceMappingURL=74.231ea0cb81db04140043.js.map