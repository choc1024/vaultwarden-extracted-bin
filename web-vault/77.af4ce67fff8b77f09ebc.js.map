{"version":3,"file":"77.af4ce67fff8b77f09ebc.js","mappings":"qnBAAA,iBACE,+BACE,mCACA,iCACE,mC,gBAKA,wCAAsB,U,iBAAsB,QAC9C,2BACF,yBACF,wB,MANQ,6CAGoB,sC,+DAI5B,iBACE,iCACE,mCACE,oCAAiC,S,gBAA8B,QAC/D,uCACE,0CACE,yCACE,UACF,QACA,uCAAG,U,iBAAoC,QACvC,wCACA,4CACE,4CAKE,U,iBACF,QACA,4CAKE,U,iBACF,QACF,iCACF,+BACF,6BACF,2BACF,yBACF,wB,qBA5BuC,6CAI3B,uDAEC,oDAKC,kDAGA,yEAIA,kDAGA,gF,ECpBP,MAAMA,UAAiC,IAO5C,WAAAC,CACEC,EACAC,EACAC,EACAC,EACAC,EACQC,GAERC,MAAMN,EAAQC,EAAsBC,EAAaC,EAAOC,GAFhD,KAAAC,uBAAAA,EAVA,KAAAE,mBAA+B,CAAC,KAAM,OAAQ,QAAS,SACvD,KAAAC,mBAAqB,mCACrB,KAAAC,cAAgB,6BAW1B,CAEM,aAAAC,CAAcC,G,yCAClBC,KAAKC,cAAgBD,KAAKP,uBAAuBS,OAAOH,EAAQI,GAAIJ,EAAQK,aACtEJ,KAAKC,cACXD,KAAKK,oBAAoBC,UACvB,UACAN,KAAKV,YAAYiB,EAAE,kBACnBP,KAAKV,YAAYiB,EAAE,+BACnB,CAAEC,QAAS,MAIbR,KAAKZ,OAAOqB,SAAS,CAAC,UACxB,G,CAEM,eAAAC,CAAgBX,G,yCACpBC,KAAKW,KAAOZ,EAAQY,KACH,MAAbX,KAAKW,OAEPX,KAAKW,KAAOX,KAAKW,KAAKC,QAAQ,MAAO,KAEzC,G,mCAtCW1B,GAAwB,sE,mBAAxBA,EAAwB,uuBDjBrC,wBAaA,uCAgCA,e,MA7CiD,wBAazB,6C,gBCCZ,IAAc,mBAAqB,iB","sources":["webpack://@bitwarden/web-vault/./src/app/auth/emergency-access/accept/accept-emergency.component.html","webpack://@bitwarden/web-vault/./src/app/auth/emergency-access/accept/accept-emergency.component.ts"],"sourcesContent":["<div class=\"mt-5 d-flex justify-content-center\" *ngIf=\"loading\">\n  <div>\n    <img class=\"mb-4 logo logo-themed\" alt=\"Vaultwarden\" />\n    <p class=\"text-center\">\n      <i\n        class=\"bwi bwi-spinner bwi-spin bwi-2x text-muted\"\n        title=\"{{ 'loading' | i18n }}\"\n        aria-hidden=\"true\"\n      ></i>\n      <span class=\"sr-only\">{{ \"loading\" | i18n }}</span>\n    </p>\n  </div>\n</div>\n<div class=\"container\" *ngIf=\"!loading && !authed\">\n  <div class=\"row justify-content-md-center mt-5\">\n    <div class=\"col-5\">\n      <p class=\"lead text-center mb-4\">{{ \"emergencyAccess\" | i18n }}</p>\n      <div class=\"card d-block\">\n        <div class=\"card-body\">\n          <p class=\"text-center\">\n            {{ name }}\n          </p>\n          <p>{{ \"acceptEmergencyAccess\" | i18n }}</p>\n          <hr />\n          <div class=\"d-flex\">\n            <a\n              routerLink=\"/login\"\n              [queryParams]=\"{ email: email }\"\n              class=\"btn btn-primary btn-block\"\n            >\n              {{ \"logIn\" | i18n }}\n            </a>\n            <a\n              routerLink=\"/register\"\n              [queryParams]=\"{ email: email }\"\n              class=\"btn btn-primary btn-block ml-2 mt-0\"\n            >\n              {{ \"createAccount\" | i18n }}\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Component } from \"@angular/core\";\nimport { ActivatedRoute, Params, Router } from \"@angular/router\";\n\nimport { AuthService } from \"@bitwarden/common/auth/abstractions/auth.service\";\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\n\nimport { BaseAcceptComponent } from \"../../../common/base.accept.component\";\nimport { SharedModule } from \"../../../shared\";\nimport { EmergencyAccessModule } from \"../emergency-access.module\";\nimport { EmergencyAccessService } from \"../services/emergency-access.service\";\n\n@Component({\n  standalone: true,\n  imports: [SharedModule, EmergencyAccessModule],\n  templateUrl: \"accept-emergency.component.html\",\n})\nexport class AcceptEmergencyComponent extends BaseAcceptComponent {\n  name: string;\n\n  protected requiredParameters: string[] = [\"id\", \"name\", \"email\", \"token\"];\n  protected failedShortMessage = \"emergencyInviteAcceptFailedShort\";\n  protected failedMessage = \"emergencyInviteAcceptFailed\";\n\n  constructor(\n    router: Router,\n    platformUtilsService: PlatformUtilsService,\n    i18nService: I18nService,\n    route: ActivatedRoute,\n    authService: AuthService,\n    private emergencyAccessService: EmergencyAccessService,\n  ) {\n    super(router, platformUtilsService, i18nService, route, authService);\n  }\n\n  async authedHandler(qParams: Params): Promise<void> {\n    this.actionPromise = this.emergencyAccessService.accept(qParams.id, qParams.token);\n    await this.actionPromise;\n    this.platformUtilService.showToast(\n      \"success\",\n      this.i18nService.t(\"inviteAccepted\"),\n      this.i18nService.t(\"emergencyInviteAcceptedDesc\"),\n      { timeout: 10000 },\n    );\n    // FIXME: Verify that this floating promise is intentional. If it is, add an explanatory comment and ensure there is proper error handling.\n    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n    this.router.navigate([\"/vault\"]);\n  }\n\n  async unauthedHandler(qParams: Params): Promise<void> {\n    this.name = qParams.name;\n    if (this.name != null) {\n      // Fix URL encoding of space issue with Angular\n      this.name = this.name.replace(/\\+/g, \" \");\n    }\n  }\n}\n"],"names":["AcceptEmergencyComponent","constructor","router","platformUtilsService","i18nService","route","authService","emergencyAccessService","super","requiredParameters","failedShortMessage","failedMessage","authedHandler","qParams","this","actionPromise","accept","id","token","platformUtilService","showToast","t","timeout","navigate","unauthedHandler","name","replace"],"sourceRoot":""}