"use strict";(self.webpackChunk_bitwarden_web_vault=self.webpackChunk_bitwarden_web_vault||[]).push([[554],{86554:function(n,i,t){t.r(i),t.d(i,{OrganizationSettingsModule:function(){return En}});var e=t(71146),o=t(17854),a=t(96963),r=t(8111),u=t(58691),l=t(47064),c=t(56992),s=t(85762),p=t(65071),g=t(54019),d=t(70032),f=t(30359),m=t(33031),h=t(92716),b=t(59260),_=t(68362),U=t(61374);var Z=t(44882);class A{}var y=t(59281),v=t(27646),x=t(64447),T=t(45213),w=t(13159),I=t(78627),q=t(99721),z=t(76528),L=t(97360),O=t(73369),S=t(65254),C=t(28508),K=t(98205),Y=t(46246),N=t(36338),k=t(14970),M=t(81974),D=t(7172),J=t(81168),B=t(24637),Q=t(11512),G=t(75734),E=t(36179),j=t(28315),F=t(58618),P=t(31978),R=t(82933),V=function(n,i,t,e){return new(t||(t=Promise))((function(o,a){function r(n){try{l(e.next(n))}catch(i){a(i)}}function u(n){try{l(e.throw(n))}catch(i){a(i)}}function l(n){var i;n.done?o(n.value):(i=n.value,i instanceof t?i:new t((function(n){n(i)}))).then(r,u)}l((e=e.apply(n,i||[])).next())}))};const W=["apiKeyTemplate"],$=["rotateApiKeyTemplate"];function H(n,i){1&n&&(s.TgZ(0,"div"),s._uU(1,"\n    "),s._UZ(2,"i",6),s.ALo(3,"i18n"),s._uU(4,"\n    "),s.TgZ(5,"span",7),s._uU(6),s.ALo(7,"i18n"),s.qZA(),s._uU(8,"\n  "),s.qZA()),2&n&&(s.xp6(2),s.s9C("title",s.lcZ(3,2,"loading")),s.xp6(4),s.Oqu(s.lcZ(7,4,"loading")))}function X(n,i){if(1&n&&(s.TgZ(0,"form",8),s._uU(1,"\n    "),s.TgZ(2,"div",9),s._uU(3,"\n      "),s.TgZ(4,"div"),s._uU(5,"\n        "),s.TgZ(6,"bit-form-field"),s._uU(7,"\n          "),s.TgZ(8,"bit-label"),s._uU(9),s.ALo(10,"i18n"),s.qZA(),s._uU(11,"\n          "),s._UZ(12,"input",10),s._uU(13,"\n        "),s.qZA(),s._uU(14,"\n        "),s.TgZ(15,"bit-form-field"),s._uU(16,"\n          "),s.TgZ(17,"bit-label"),s._uU(18),s.ALo(19,"i18n"),s.qZA(),s._uU(20,"\n          "),s._UZ(21,"input",11),s._uU(22,"\n        "),s.qZA(),s._uU(23,"\n      "),s.qZA(),s._uU(24,"\n      "),s.TgZ(25,"div"),s._uU(26,"\n        "),s._UZ(27,"bit-avatar",12),s._uU(28,"\n        "),s.TgZ(29,"app-account-fingerprint",13),s.ALo(30,"i18n"),s._uU(31,"\n        "),s.qZA(),s._uU(32,"\n      "),s.qZA(),s._uU(33,"\n    "),s.qZA(),s._uU(34,"\n    "),s.TgZ(35,"button",14),s._uU(36),s.ALo(37,"i18n"),s.qZA(),s._uU(38,"\n  "),s.qZA()),2&n){const n=s.oxw();s.Q6J("bitSubmit",n.submit)("formGroup",n.formGroup),s.xp6(9),s.Oqu(s.lcZ(10,10,"organizationName")),s.xp6(9),s.Oqu(s.lcZ(19,12,"email")),s.xp6(9),s.Q6J("text",n.org.name)("id",n.org.id),s.xp6(2),s.s9C("fingerprintLabel",s.lcZ(30,14,"yourOrganizationsFingerprint")),s.Q6J("fingerprintMaterial",n.organizationId)("publicKeyBuffer",n.publicKeyBuffer),s.xp6(7),s.hij("\n      ",s.lcZ(37,16,"save"),"\n    ")}}function nn(n,i){if(1&n){const n=s.EpF();s.ynx(0),s._uU(1,"\n    "),s.TgZ(2,"h1",15),s._uU(3),s.ALo(4,"i18n"),s.qZA(),s._uU(5,"\n    "),s.TgZ(6,"p"),s._uU(7),s.ALo(8,"i18n"),s.TgZ(9,"a",16),s._uU(10),s.ALo(11,"i18n"),s.qZA(),s._uU(12,"\n    "),s.qZA(),s._uU(13,"\n    "),s.TgZ(14,"button",17),s.NdJ("click",(function(){s.CHM(n);const i=s.oxw();return s.KtG(i.viewApiKey())})),s._uU(15),s.ALo(16,"i18n"),s.qZA(),s._uU(17,"\n    "),s.TgZ(18,"button",17),s.NdJ("click",(function(){s.CHM(n);const i=s.oxw();return s.KtG(i.rotateApiKey())})),s._uU(19),s.ALo(20,"i18n"),s.qZA(),s._uU(21,"\n  "),s.BQk()}2&n&&(s.xp6(3),s.Oqu(s.lcZ(4,5,"apiKey")),s.xp6(4),s.hij("\n      ",s.lcZ(8,7,"apiKeyDesc"),"\n      "),s.xp6(3),s.hij("\n        ",s.lcZ(11,9,"learnMore"),"\n      "),s.xp6(5),s.hij("\n      ",s.lcZ(16,11,"viewApiKey"),"\n    "),s.xp6(4),s.hij("\n      ",s.lcZ(20,13,"rotateApiKey"),"\n    "))}function tn(n,i){1&n&&(s.TgZ(0,"bit-form-control"),s._uU(1,"\n      "),s.TgZ(2,"bit-label"),s._uU(3),s.ALo(4,"i18n"),s.qZA(),s._uU(5,"\n      "),s._UZ(6,"input",20),s._uU(7,"\n    "),s.qZA()),2&n&&(s.xp6(3),s.Oqu(s.lcZ(4,1,"allowAdminAccessToAllCollectionItemsDesc")))}function en(n,i){1&n&&(s.TgZ(0,"button",21),s._uU(1),s.ALo(2,"i18n"),s.qZA()),2&n&&(s.xp6(1),s.hij("\n      ",s.lcZ(2,1,"save"),"\n    "))}function on(n,i){if(1&n&&(s.TgZ(0,"form",8),s._uU(1,"\n    "),s.TgZ(2,"h1",15),s._uU(3),s.ALo(4,"i18n"),s.qZA(),s._uU(5,"\n    "),s.TgZ(6,"p"),s._uU(7),s.ALo(8,"i18n"),s.qZA(),s._uU(9,"\n    "),s.YNc(10,tn,8,3,"bit-form-control",0),s.ALo(11,"async"),s._uU(12,"\n    "),s.TgZ(13,"bit-form-control"),s._uU(14,"\n      "),s.TgZ(15,"bit-label"),s._uU(16),s.ALo(17,"i18n"),s.qZA(),s._uU(18,"\n      "),s._UZ(19,"input",18),s._uU(20,"\n    "),s.qZA(),s._uU(21,"\n    "),s.YNc(22,en,3,3,"button",19),s._uU(23,"\n  "),s.qZA()),2&n){const n=s.oxw();s.Q6J("bitSubmit",n.submitCollectionManagement)("formGroup",n.collectionManagementFormGroup),s.xp6(3),s.Oqu(s.lcZ(4,7,"collectionManagement")),s.xp6(4),s.Oqu(s.lcZ(8,9,"collectionManagementDesc")),s.xp6(3),s.Q6J("ngIf",s.lcZ(11,11,n.flexibleCollectionsV1Enabled$)),s.xp6(6),s.Oqu(s.lcZ(17,13,"limitCollectionCreationDeletionDesc")),s.xp6(6),s.Q6J("ngIf",!n.selfHosted)}}function an(n,i){}function rn(n,i){}class un{constructor(n,i,t,e,o,a,r,u,l,c,s){this.modalService=n,this.i18nService=i,this.route=t,this.platformUtilsService=e,this.cryptoService=o,this.router=a,this.organizationService=r,this.organizationApiService=u,this.dialogService=l,this.formBuilder=c,this.configService=s,this.selfHosted=!1,this.canEditSubscription=!0,this.loading=!0,this.canUseApi=!1,this.flexibleCollectionsV1Enabled$=this.configService.getFeatureFlag$(y.T.FlexibleCollectionsV1),this.formGroup=this.formBuilder.group({orgName:this.formBuilder.control({value:"",disabled:!0},{validators:[p.kI.required,p.kI.maxLength(50)],updateOn:"change"}),billingEmail:this.formBuilder.control({value:"",disabled:!0},{validators:[p.kI.required,p.kI.email,p.kI.maxLength(256)]})}),this.collectionManagementFormGroup=this.formBuilder.group({limitCollectionCreationDeletion:this.formBuilder.control({value:!1,disabled:!0}),allowAdminAccessToAllCollectionItems:this.formBuilder.control({value:!1,disabled:!0})}),this.destroy$=new g.x,this.submit=()=>V(this,void 0,void 0,(function*(){if(this.formGroup.markAllAsTouched(),this.formGroup.invalid)return;const n=new A;if(n.name=this.formGroup.value.orgName,n.billingEmail=this.formGroup.value.billingEmail,!this.org.hasPublicAndPrivateKeys){const i=yield this.cryptoService.getOrgKey(this.organizationId),t=yield this.cryptoService.makeKeyPair(i);n.keys=new Z.u(t[0],t[1].encryptedString)}yield this.organizationApiService.save(this.organizationId,n),this.platformUtilsService.showToast("success",null,this.i18nService.t("organizationUpdated"))})),this.submitCollectionManagement=()=>V(this,void 0,void 0,(function*(){})),this.purgeVault=()=>V(this,void 0,void 0,(function*(){const n=T.$.open(this.dialogService,{data:{organizationId:this.organizationId}});yield(0,d.n)(n.closed)}))}ngOnInit(){return V(this,void 0,void 0,(function*(){this.selfHosted=!1,this.route.params.pipe((0,f.w)((n=>this.organizationService.get$(n.organizationId))),(0,f.w)((n=>(0,m.a)([(0,h.of)(n),(0,b.D)(this.organizationApiService.get(n.id)),(0,b.D)(this.organizationApiService.getKeys(n.id))]))),(0,_.R)(this.destroy$)).subscribe((([n,i,t])=>{this.organizationId=n.id,this.canEditSubscription=n.canEditSubscription,this.canUseApi=n.useApi,this.selfHosted||(this.formGroup.get("orgName").enable(),this.collectionManagementFormGroup.get("limitCollectionCreationDeletion").enable(),this.collectionManagementFormGroup.get("allowAdminAccessToAllCollectionItems").enable()),!this.selfHosted&&this.canEditSubscription&&this.formGroup.get("billingEmail").enable(),this.org=i,this.publicKeyBuffer=v.c.fromB64ToArray(null==t?void 0:t.publicKey),this.formGroup.patchValue({orgName:this.org.name,billingEmail:this.org.billingEmail}),this.collectionManagementFormGroup.patchValue({limitCollectionCreationDeletion:this.org.limitCollectionCreationDeletion,allowAdminAccessToAllCollectionItems:this.org.allowAdminAccessToAllCollectionItems}),this.loading=!1}))}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}deleteOrganization(){return V(this,void 0,void 0,(function*(){const n=(0,w.j1)(this.dialogService,{data:{organizationId:this.organizationId,requestType:"RegularDelete"}});(yield(0,d.n)(n.closed))===w._P.Deleted&&this.router.navigate(["/"])}))}viewApiKey(){return V(this,void 0,void 0,(function*(){yield this.modalService.openViewRef(x.B,this.apiKeyModalRef,(n=>{n.keyType="organization",n.entityId=this.organizationId,n.postKey=this.organizationApiService.getOrCreateApiKey.bind(this.organizationApiService),n.scope="api.organization",n.grantType="client_credentials",n.apiKeyTitle="apiKey",n.apiKeyWarning="apiKeyWarning",n.apiKeyDescription="apiKeyDesc"}))}))}rotateApiKey(){return V(this,void 0,void 0,(function*(){yield this.modalService.openViewRef(x.B,this.rotateApiKeyModalRef,(n=>{n.keyType="organization",n.isRotation=!0,n.entityId=this.organizationId,n.postKey=this.organizationApiService.rotateApiKey.bind(this.organizationApiService),n.scope="api.organization",n.grantType="client_credentials",n.apiKeyTitle="apiKey",n.apiKeyWarning="apiKeyWarning",n.apiKeyDescription="apiKeyRotateDesc"}))}))}}un.ɵfac=function(n){return new(n||un)(s.Y36(U.Z),s.Y36(I.D),s.Y36(r.gz),s.Y36(q.P),s.Y36(z.$),s.Y36(r.F0),s.Y36(u.Mn),s.Y36(L.M),s.Y36(O.x),s.Y36(p.qu),s.Y36(S.E))},un.ɵcmp=s.Xpm({type:un,selectors:[["app-org-account"]],viewQuery:function(n,i){if(1&n&&(s.Gf(W,7,s.s_b),s.Gf($,7,s.s_b)),2&n){let n;s.iGM(n=s.CRH())&&(i.apiKeyModalRef=n.first),s.iGM(n=s.CRH())&&(i.rotateApiKeyModalRef=n.first)}},decls:30,vars:11,consts:[[4,"ngIf"],[3,"bitSubmit","formGroup",4,"ngIf"],["type","button","bitButton","","buttonType","danger",3,"click"],["type","button","bitButton","","buttonType","danger",3,"bitAction"],["apiKeyTemplate",""],["rotateApiKeyTemplate",""],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin","text-muted",3,"title"],[1,"tw-sr-only"],[3,"bitSubmit","formGroup"],[1,"tw-grid","tw-grid-cols-2","tw-gap-5"],["bitInput","","id","orgName","type","text","formControlName","orgName"],["bitInput","","id","billingEmail","formControlName","billingEmail","type","email"],["size","large",3,"text","id"],[3,"fingerprintMaterial","publicKeyBuffer","fingerprintLabel"],["type","submit","bitButton","","bitFormButton","","buttonType","primary"],["bitTypography","h1",1,"tw-mt-16","tw-pb-2.5"],["href","https://docs.bitwarden.com","target","_blank","rel","noreferrer"],["type","button","bitButton","","buttonType","secondary",3,"click"],["type","checkbox","bitCheckbox","","formControlName","limitCollectionCreationDeletion"],["type","submit","bitButton","","bitFormButton","","buttonType","primary","id","collectionManagementSubmitButton",4,"ngIf"],["type","checkbox","bitCheckbox","","formControlName","allowAdminAccessToAllCollectionItems"],["type","submit","bitButton","","bitFormButton","","buttonType","primary","id","collectionManagementSubmitButton"]],template:function(n,i){1&n&&(s._UZ(0,"app-header"),s._uU(1,"\n\n"),s.TgZ(2,"bit-container"),s._uU(3,"\n  "),s.YNc(4,H,9,6,"div",0),s._uU(5,"\n  "),s.YNc(6,X,39,18,"form",1),s._uU(7,"\n  "),s.YNc(8,nn,22,15,"ng-container",0),s._uU(9,"\n  "),s.YNc(10,on,24,15,"form",1),s._uU(11,"\n\n  "),s.TgZ(12,"app-danger-zone"),s._uU(13,"\n    "),s.TgZ(14,"button",2),s.NdJ("click",(function(){return i.deleteOrganization()})),s._uU(15),s.ALo(16,"i18n"),s.qZA(),s._uU(17,"\n    "),s.TgZ(18,"button",3),s._uU(19),s.ALo(20,"i18n"),s.qZA(),s._uU(21,"\n  "),s.qZA(),s._uU(22,"\n\n  "),s.YNc(23,an,0,0,"ng-template",null,4,s.W1O),s._uU(25,"\n  "),s.YNc(26,rn,0,0,"ng-template",null,5,s.W1O),s._uU(28,"\n"),s.qZA(),s._uU(29,"\n")),2&n&&(s.xp6(4),s.Q6J("ngIf",i.loading),s.xp6(2),s.Q6J("ngIf",i.org&&!i.loading),s.xp6(2),s.Q6J("ngIf",i.canUseApi),s.xp6(2),s.Q6J("ngIf",i.org&&!i.loading&&i.org.flexibleCollections),s.xp6(5),s.hij("\n      ",s.lcZ(16,7,"deleteOrganization"),"\n    "),s.xp6(3),s.Q6J("bitAction",i.purgeVault),s.xp6(1),s.hij("\n      ",s.lcZ(20,9,"purgeVault"),"\n    "))},dependencies:[C.O5,p._Y,p.Fj,p.Wl,p.JJ,p.JL,p.sg,p.u,K.Q,Y.b,N.u,k.A,M.r,D.b,J.e,B.d,Q.G,G.A,E.u,j.t,F.k,P.q,o.V,C.Ov,R.C],encapsulation:2});var ln=t(59157),cn=t(92786),sn=t(80060),pn=t(48103),gn=t(34961),dn=t(41648),fn=t(37480),mn=t(55602),hn=t(46811),bn=t(384),_n=t(24083),Un=t(55039),Zn=function(n,i,t,e){return new(t||(t=Promise))((function(o,a){function r(n){try{l(e.next(n))}catch(i){a(i)}}function u(n){try{l(e.throw(n))}catch(i){a(i)}}function l(n){var i;n.done?o(n.value):(i=n.value,i instanceof t?i:new t((function(n){n(i)}))).then(r,u)}l((e=e.apply(n,i||[])).next())}))};function An(n,i){1&n&&s._UZ(0,"app-header")}function yn(n,i){1&n&&(s.TgZ(0,"h1"),s._uU(1),s.ALo(2,"i18n"),s.qZA()),2&n&&(s.xp6(1),s.Oqu(s.lcZ(2,1,"twoStepLogin")))}function vn(n,i){1&n&&(s.TgZ(0,"h1"),s._uU(1),s.ALo(2,"i18n"),s.qZA()),2&n&&(s.xp6(1),s.Oqu(s.lcZ(2,1,"twoStepLoginEnforcement")))}function xn(n,i){if(1&n&&(s.TgZ(0,"div",11),s._uU(1,"\n    "),s.YNc(2,yn,3,3,"h1",0),s._uU(3,"\n    "),s.YNc(4,vn,3,3,"h1",0),s._uU(5,"\n  "),s.qZA()),2&n){const n=s.oxw();s.xp6(2),s.Q6J("ngIf",!n.organizationId||!n.isEnterpriseOrg),s.xp6(2),s.Q6J("ngIf",n.organizationId&&n.isEnterpriseOrg)}}function Tn(n,i){1&n&&(s.TgZ(0,"p"),s._uU(1),s.ALo(2,"i18n"),s.qZA()),2&n&&(s.xp6(1),s.Oqu(s.lcZ(2,1,"twoStepLoginDesc")))}function wn(n,i){1&n&&(s.ynx(0),s._uU(1),s.ALo(2,"i18n"),s.TgZ(3,"a",14),s._uU(4),s.ALo(5,"i18n"),s.qZA(),s._uU(6,"\n        "),s._UZ(7,"br"),s._uU(8),s.ALo(9,"i18n"),s._UZ(10,"br"),s._uU(11,"\n        "),s._UZ(12,"br"),s._uU(13,"\n        "),s.TgZ(14,"p"),s._uU(15),s.ALo(16,"i18n"),s.qZA(),s._uU(17,"\n      "),s.BQk()),2&n&&(s.xp6(1),s.hij("\n        ",s.lcZ(2,4,"twoStepLoginEnterpriseDescStart"),"\n        "),s.xp6(3),s.hij("",s.lcZ(5,6,"twoStepLoginPolicy"),"."),s.xp6(4),s.hij("\n        ",s.lcZ(9,8,"twoStepLoginOrganizationDuoDesc"),"\n        "),s.xp6(7),s.Oqu(s.lcZ(16,10,"twoStepLoginOrganizationSsoDesc")))}function In(n,i){1&n&&(s._uU(0),s.ALo(1,"i18n"),s._UZ(2,"br"),s._uU(3),s.ALo(4,"i18n")),2&n&&(s.hij("\n        ",s.lcZ(1,2,"twoStepLoginTeamsDesc"),"\n        "),s.xp6(3),s.hij("\n        ",s.lcZ(4,4,"twoStepLoginOrganizationDuoDesc"),"\n      "))}function qn(n,i){if(1&n&&(s.ynx(0),s._uU(1,"\n    "),s.TgZ(2,"p"),s._uU(3,"\n      "),s.YNc(4,wn,18,12,"ng-container",12),s._uU(5,"\n      "),s.YNc(6,In,5,6,"ng-template",null,13,s.W1O),s._uU(8,"\n    "),s.qZA(),s._uU(9,"\n  "),s.BQk()),2&n){const n=s.MAs(7),i=s.oxw();s.xp6(4),s.Q6J("ngIf",i.isEnterpriseOrg)("ngIfElse",n)}}function zn(n,i){if(1&n){const n=s.EpF();s.TgZ(0,"bit-callout",15),s._uU(1,"\n    "),s.TgZ(2,"p"),s._uU(3),s.ALo(4,"i18n"),s.qZA(),s._uU(5,"\n    "),s.TgZ(6,"button",16),s.NdJ("click",(function(){s.CHM(n);const i=s.oxw();return s.KtG(i.recoveryCode())})),s._uU(7),s.ALo(8,"i18n"),s.qZA(),s._uU(9,"\n  "),s.qZA()}2&n&&(s.xp6(3),s.Oqu(s.lcZ(4,2,"twoStepLoginRecoveryWarning")),s.xp6(4),s.hij("\n      ",s.lcZ(8,4,"viewRecoveryCode"),"\n    "))}function Ln(n,i){1&n&&(s.TgZ(0,"small"),s._uU(1,"\n      "),s._UZ(2,"i",17),s.ALo(3,"i18n"),s._uU(4,"\n      "),s.TgZ(5,"span",18),s._uU(6),s.ALo(7,"i18n"),s.qZA(),s._uU(8,"\n    "),s.qZA()),2&n&&(s.xp6(2),s.s9C("title",s.lcZ(3,2,"loading")),s.xp6(4),s.Oqu(s.lcZ(7,4,"loading")))}function On(n,i){1&n&&(s.TgZ(0,"bit-callout",15),s._uU(1),s.ALo(2,"i18n"),s.qZA()),2&n&&(s.xp6(1),s.hij("\n    ",s.lcZ(2,1,"twoStepLoginPolicyUserWarning"),"\n  "))}function Sn(n,i){1&n&&(s.ynx(0),s._uU(1,"\n            "),s._UZ(2,"i",26),s.ALo(3,"i18n"),s._uU(4,"\n            "),s.TgZ(5,"span",18),s._uU(6),s.ALo(7,"i18n"),s.qZA(),s._uU(8,"\n          "),s.BQk()),2&n&&(s.xp6(2),s.s9C("title",s.lcZ(3,2,"enabled")),s.xp6(4),s.Oqu(s.lcZ(7,4,"enabled")))}function Cn(n,i){1&n&&s._UZ(0,"app-premium-badge")}function Kn(n,i){if(1&n){const n=s.EpF();s.TgZ(0,"li",19),s._uU(1,"\n      "),s.TgZ(2,"div",20),s._uU(3,"\n        "),s._UZ(4,"img",21),s._uU(5,"\n      "),s.qZA(),s._uU(6,"\n      "),s.TgZ(7,"div",22),s._uU(8,"\n        "),s.TgZ(9,"h3",23),s._uU(10),s.YNc(11,Sn,9,6,"ng-container",0),s._uU(12,"\n          "),s.YNc(13,Cn,1,0,"app-premium-badge",0),s._uU(14,"\n        "),s.qZA(),s._uU(15),s.qZA(),s._uU(16,"\n      "),s.TgZ(17,"div",24),s._uU(18,"\n        "),s.TgZ(19,"button",25),s.NdJ("click",(function(){const i=s.CHM(n).$implicit,t=s.oxw();return s.KtG(t.manage(i.type))})),s.ALo(20,"async"),s._uU(21),s.ALo(22,"i18n"),s.qZA(),s._uU(23,"\n      "),s.qZA(),s._uU(24,"\n    "),s.qZA()}if(2&n){const n=i.$implicit,t=s.oxw();s.xp6(4),s.Tol("mfaType"+n.type),s.Q6J("alt",n.name+" logo"),s.xp6(6),s.hij("\n          ",n.name,"\n          "),s.xp6(1),s.Q6J("ngIf",n.enabled),s.xp6(2),s.Q6J("ngIf",n.premium),s.xp6(2),s.hij("\n        ",n.description,"\n      "),s.xp6(4),s.Q6J("disabled",!s.lcZ(20,9,t.canAccessPremium$)&&n.premium),s.xp6(2),s.hij("\n          ",s.lcZ(22,11,"manage"),"\n        ")}}function Yn(n,i){}function Nn(n,i){}function kn(n,i){}function Mn(n,i){}function Dn(n,i){}const Jn=function(n){return{"mt-5":n}};class Bn extends fn.x{constructor(n,i,t,e,o,a,r,u){super(n,i,t,e,o,u),this.route=a,this.organizationService=r,this.tabbedHeader=!1}ngOnInit(){const n=Object.create(null,{ngOnInit:{get:()=>super.ngOnInit}});return Zn(this,void 0,void 0,(function*(){this.route.params.pipe((0,ln.b)((n=>this.organizationService.get$(n.organizationId).pipe((0,cn.U)((i=>({params:n,organization:i})))))),(0,sn.b)((n=>Zn(this,void 0,void 0,(function*(){this.organizationId=n.params.organizationId,this.organization=n.organization})))),(0,ln.b)((()=>Zn(this,void 0,void 0,(function*(){return yield n.ngOnInit.call(this)})))),(0,_.R)(this.destroy$)).subscribe()}))}manage(n){return Zn(this,void 0,void 0,(function*(){switch(n){case pn.L.OrganizationDuo:{const n=yield this.callTwoFactorVerifyDialog(pn.L.OrganizationDuo);if(!n)return;const i=yield this.openModal(this.duoModalRef,dn.C);i.type=pn.L.OrganizationDuo,i.organizationId=this.organizationId,i.auth(n),i.onUpdated.pipe((0,_.R)(this.destroy$)).subscribe((n=>{this.updateStatus(n,pn.L.OrganizationDuo)}));break}}}))}getTwoFactorProviders(){return this.apiService.getTwoFactorOrganizationProviders(this.organizationId)}filterProvider(n){return n!==pn.L.OrganizationDuo}}Bn.ɵfac=function(n){return new(n||Bn)(s.Y36(O.x),s.Y36(mn.s),s.Y36(U.Z),s.Y36(gn.o),s.Y36(hn.d),s.Y36(r.gz),s.Y36(u.Mn),s.Y36(bn.M))},Bn.ɵcmp=s.Xpm({type:Bn,selectors:[["app-two-factor-setup"]],features:[s.qOj],decls:41,vars:14,consts:[[4,"ngIf"],["class","tabbed-header",4,"ngIf"],["type","warning",4,"ngIf"],[3,"ngClass"],[1,"list-group","list-group-2fa"],["class","list-group-item d-flex align-items-center",4,"ngFor","ngForOf"],["authenticatorTemplate",""],["duoTemplate",""],["emailTemplate",""],["yubikeyTemplate",""],["webAuthnTemplate",""],[1,"tabbed-header"],[4,"ngIf","ngIfElse"],["teamsDescription",""],["routerLink","../policies"],["type","warning"],["type","button","bitButton","","buttonType","secondary",3,"click"],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin","bwi-fw","text-muted",3,"title"],[1,"sr-only"],[1,"list-group-item","d-flex","align-items-center"],[1,"logo-2fa","d-flex","justify-content-center"],[3,"alt"],[1,"mx-4"],[1,"mb-0"],[1,"ml-auto"],["type","button","bitButton","","buttonType","secondary",3,"disabled","click"],["aria-hidden","true",1,"bwi","bwi-check","text-success","bwi-fw",3,"title"]],template:function(n,i){1&n&&(s.YNc(0,An,1,0,"app-header",0),s._uU(1,"\n\n"),s.TgZ(2,"bit-container"),s._uU(3,"\n  "),s.YNc(4,xn,6,2,"div",1),s._uU(5,"\n\n  "),s.YNc(6,Tn,3,3,"p",0),s._uU(7,"\n  "),s.YNc(8,qn,10,2,"ng-container",0),s._uU(9,"\n  "),s.YNc(10,zn,10,6,"bit-callout",2),s._uU(11,"\n  "),s.TgZ(12,"h2",3),s._uU(13),s.ALo(14,"i18n"),s.YNc(15,Ln,9,6,"small",0),s._uU(16,"\n  "),s.qZA(),s._uU(17,"\n  "),s.YNc(18,On,3,3,"bit-callout",2),s._uU(19,"\n  "),s.TgZ(20,"ul",4),s._uU(21,"\n    "),s.YNc(22,Kn,25,13,"li",5),s._uU(23,"\n  "),s.qZA(),s._uU(24,"\n"),s.qZA(),s._uU(25,"\n\n"),s.YNc(26,Yn,0,0,"ng-template",null,6,s.W1O),s._uU(28,"\n"),s.YNc(29,Nn,0,0,"ng-template",null,7,s.W1O),s._uU(31,"\n"),s.YNc(32,kn,0,0,"ng-template",null,8,s.W1O),s._uU(34,"\n"),s.YNc(35,Mn,0,0,"ng-template",null,9,s.W1O),s._uU(37,"\n"),s.YNc(38,Dn,0,0,"ng-template",null,10,s.W1O),s._uU(40,"\n")),2&n&&(s.Q6J("ngIf",null!=i.organizationId),s.xp6(4),s.Q6J("ngIf",null==i.organizationId),s.xp6(2),s.Q6J("ngIf",!i.organizationId),s.xp6(2),s.Q6J("ngIf",i.organizationId),s.xp6(2),s.Q6J("ngIf",!i.organizationId),s.xp6(2),s.Q6J("ngClass",s.VKq(12,Jn,!i.organizationId)),s.xp6(1),s.hij("\n    ",s.lcZ(14,10,"providers"),"\n    "),s.xp6(2),s.Q6J("ngIf",i.loading),s.xp6(3),s.Q6J("ngIf",i.showPolicyWarning),s.xp6(4),s.Q6J("ngForOf",i.providers))},dependencies:[C.mk,C.sg,C.O5,r.rH,M.r,_n.O,J.e,Un.R,F.k,C.Ov,R.C],encapsulation:2});const Qn=[{path:"",canActivate:[l.G],data:{organizationPermissions:u.DL},children:[{path:"",pathMatch:"full",canActivate:[c.S],data:{autoRedirectCallback:function(n){if(n.isOwner)return"account";if(n.canManagePolicies)return"policies";if(n.canAccessImportExport)return["tools","import"];if(n.canManageSso)return"sso";if(n.canManageScim)return"scim";if(n.canManageDeviceApprovals)return"device-approvals";return}},children:[]},{path:"account",component:un,data:{titleId:"organizationInfo"}},{path:"two-factor",component:Bn,data:{titleId:"twoStepLogin"}},{path:"policies",component:a.K,canActivate:[l.G],data:{organizationPermissions:n=>n.canManagePolicies,titleId:"policies"}},{path:"tools",children:[{path:"import",loadComponent:()=>Promise.all([t.e(395),t.e(409),t.e(367)]).then(t.bind(t,86367)).then((n=>n.OrgImportComponent)),canActivate:[l.G],data:{titleId:"importData",organizationPermissions:n=>n.canAccessImportExport}},{path:"export",loadChildren:()=>Promise.all([t.e(229),t.e(74)]).then(t.bind(t,51074)).then((n=>n.OrganizationVaultExportModule)),data:{titleId:"exportVault"}}]}]}];class Gn{}Gn.ɵfac=function(n){return new(n||Gn)},Gn.ɵmod=s.oAB({type:Gn}),Gn.ɵinj=s.cJS({imports:[r.Bz.forChild(Qn),r.Bz]});class En{}En.ɵfac=function(n){return new(n||En)},En.ɵmod=s.oAB({type:En}),En.ɵinj=s.cJS({imports:[e.m,e.f,a.I2,Gn,o.V]})}}]);
//# sourceMappingURL=554.e82b45b7ffbc0fe7ce5c.js.map