"use strict";(self.webpackChunk_bitwarden_web_vault=self.webpackChunk_bitwarden_web_vault||[]).push([[979],{10979:function(n,t,e){e.r(t),e.d(t,{OrganizationReportingModule:function(){return oe}});var i=e(71146),o=e(85921),a=e(84949),r=e(8111),s=e(58691),u=e(61374),c=e(25406),l=e(53550),p=e(85762),d=e(92236),g=e(98438),h=e(78627),U=e(4871),_=e(28508),f=e(53707),Z=e(15252),A=e(2051),x=e(12963),b=e(66385),m=e(81974),v=e(81168),w=e(98797),q=e(65777),I=e(82081),y=e(58618),T=e(82933),O=e(36409),N=function(n,t,e,i){return new(e||(e=Promise))((function(o,a){function r(n){try{u(i.next(n))}catch(t){a(t)}}function s(n){try{u(i.throw(n))}catch(t){a(t)}}function u(n){var t;n.done?o(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(r,s)}u((i=i.apply(n,t||[])).next())}))};function C(n,t){1&n&&(p.TgZ(0,"app-callout",6),p.ALo(1,"i18n"),p._uU(2),p.ALo(3,"i18n"),p.qZA()),2&n&&(p.s9C("title",p.lcZ(1,2,"goodNews")),p.xp6(2),p.hij("\n      ",p.lcZ(3,4,"noExposedPasswords"),"\n    "))}function Y(n,t){if(1&n&&(p.ynx(0),p._uU(1,"\n          "),p.TgZ(2,"bit-toggle",13),p._uU(3),p.TgZ(4,"span",14),p._uU(5),p.qZA(),p._uU(6,"\n          "),p.qZA(),p._uU(7,"\n        "),p.BQk()),2&n){const n=t.$implicit,e=p.oxw(4);p.xp6(2),p.Q6J("value",n),p.xp6(1),p.hij("\n            ",e.getName(n),"\n            "),p.xp6(2),p.hij(" ",e.getCount(n)," ")}}function L(n,t){if(1&n){const n=p.EpF();p.TgZ(0,"bit-toggle-group",12),p.NdJ("selectedChange",(function(t){p.CHM(n);const e=p.oxw(3);return p.KtG(e.filterOrgToggle(t))})),p.ALo(1,"async"),p.ALo(2,"i18n"),p._uU(3,"\n        "),p.YNc(4,Y,8,3,"ng-container",11),p._uU(5,"\n      "),p.qZA()}if(2&n){const n=p.oxw(3);p.Q6J("selected",p.lcZ(1,3,n.filterOrgStatus$)),p.uIk("aria-label",p.lcZ(2,5,"addAccessFilter")),p.xp6(4),p.Q6J("ngForOf",n.filterStatus)}}function z(n,t){1&n&&(p.TgZ(0,"thead",15),p._uU(1,"\n          "),p.TgZ(2,"tr"),p._uU(3,"\n            "),p._UZ(4,"th"),p._uU(5,"\n            "),p.TgZ(6,"th"),p._uU(7),p.ALo(8,"i18n"),p.qZA(),p._uU(9,"\n            "),p.TgZ(10,"th"),p._uU(11),p.ALo(12,"i18n"),p.qZA(),p._uU(13,"\n          "),p.qZA(),p._uU(14,"\n        "),p.qZA()),2&n&&(p.xp6(7),p.Oqu(p.lcZ(8,2,"name")),p.xp6(4),p.Oqu(p.lcZ(12,4,"owner")))}function J(n,t){if(1&n){const n=p.EpF();p.ynx(0),p._uU(1,"\n                "),p.TgZ(2,"a",24),p.NdJ("click",(function(){p.CHM(n);const t=p.oxw().$implicit,e=p.oxw(3);return p.KtG(e.selectCipher(t))})),p.ALo(3,"i18n"),p._uU(4),p.qZA(),p._uU(5,"\n              "),p.BQk()}if(2&n){const n=p.oxw().$implicit;p.xp6(2),p.s9C("title",p.lcZ(3,2,"editItem")),p.xp6(2),p.Oqu(n.name)}}function Q(n,t){if(1&n&&(p._uU(0,"\n                "),p.TgZ(1,"span"),p._uU(2),p.qZA(),p._uU(3,"\n              ")),2&n){const n=p.oxw().$implicit;p.xp6(2),p.Oqu(n.name)}}function S(n,t){1&n&&(p.ynx(0),p._uU(1,"\n                "),p._UZ(2,"i",25),p.ALo(3,"i18n"),p._uU(4,"\n                "),p.TgZ(5,"span",26),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n              "),p.BQk()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"shared")),p.xp6(4),p.Oqu(p.lcZ(7,4,"shared")))}function F(n,t){1&n&&(p.ynx(0),p._uU(1,"\n                "),p._UZ(2,"i",27),p.ALo(3,"i18n"),p._uU(4,"\n                "),p.TgZ(5,"span",26),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n              "),p.BQk()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"attachments")),p.xp6(4),p.Oqu(p.lcZ(7,4,"attachments")))}function k(n,t){if(1&n&&(p.TgZ(0,"app-org-badge",28),p.ALo(1,"orgNameFromId"),p.ALo(2,"async"),p._uU(3,"\n              "),p.qZA()),2&n){const n=p.oxw().$implicit,t=p.oxw(3);p.Q6J("disabled",t.disabled)("organizationId",n.organizationId)("organizationName",p.xi3(1,3,n.organizationId,p.lcZ(2,6,t.organizations$)))}}function P(n,t){if(1&n&&(p.TgZ(0,"tr"),p._uU(1,"\n            "),p.TgZ(2,"td",16),p._uU(3,"\n              "),p._UZ(4,"app-vault-icon",17),p._uU(5,"\n            "),p.qZA(),p._uU(6,"\n            "),p.TgZ(7,"td",18),p._uU(8,"\n              "),p.YNc(9,J,6,4,"ng-container",19),p._uU(10,"\n              "),p.YNc(11,Q,4,1,"ng-template",null,20,p.W1O),p._uU(13,"\n              "),p.YNc(14,S,9,6,"ng-container",5),p._uU(15,"\n              "),p.YNc(16,F,9,6,"ng-container",5),p._uU(17,"\n              "),p._UZ(18,"br"),p._uU(19,"\n              "),p.TgZ(20,"small"),p._uU(21),p.qZA(),p._uU(22,"\n            "),p.qZA(),p._uU(23,"\n            "),p.TgZ(24,"td"),p._uU(25,"\n              "),p.YNc(26,k,4,8,"app-org-badge",21),p._uU(27,"\n            "),p.qZA(),p._uU(28,"\n            "),p.TgZ(29,"td",22),p._uU(30,"\n              "),p.TgZ(31,"span",23),p._uU(32),p.ALo(33,"i18n"),p.ALo(34,"number"),p.qZA(),p._uU(35,"\n            "),p.qZA(),p._uU(36,"\n          "),p.qZA()),2&n){const n=t.$implicit,e=p.MAs(12),i=p.oxw(3);p.xp6(4),p.Q6J("cipher",n),p.xp6(5),p.Q6J("ngIf",!i.organization||i.canManageCipher(n))("ngIfElse",e),p.xp6(5),p.Q6J("ngIf",!i.organization&&n.organizationId),p.xp6(2),p.Q6J("ngIf",n.hasAttachments),p.xp6(5),p.Oqu(n.subTitle),p.xp6(5),p.Q6J("ngIf",!i.organization),p.xp6(6),p.hij("\n                ",p.xi3(33,8,"exposedXTimes",p.lcZ(34,11,i.exposedPasswordMap.get(n.id))),"\n              ")}}function M(n,t){if(1&n&&(p.ynx(0),p._uU(1,"\n      "),p.TgZ(2,"app-callout",7),p.ALo(3,"i18n"),p._uU(4),p.ALo(5,"i18n"),p.ALo(6,"number"),p.qZA(),p._uU(7,"\n      "),p.YNc(8,L,6,7,"bit-toggle-group",8),p._uU(9,"\n      "),p.TgZ(10,"table",9),p._uU(11,"\n        "),p.YNc(12,z,15,6,"thead",10),p._uU(13,"\n        "),p.TgZ(14,"tbody"),p._uU(15,"\n          "),p.YNc(16,P,37,13,"tr",11),p._uU(17,"\n        "),p.qZA(),p._uU(18,"\n      "),p.qZA(),p._uU(19,"\n    "),p.BQk()),2&n){const n=p.oxw(2);p.xp6(2),p.s9C("title",p.lcZ(3,6,"exposedPasswordsFound")),p.Q6J("useAlertRole",!0),p.xp6(2),p.hij("\n        ",p.Dn7(5,8,"exposedPasswordsFoundReportDesc",p.lcZ(6,12,n.ciphers.length),n.vaultMsg),"\n      "),p.xp6(4),p.Q6J("ngIf",n.showFilterToggle&&!n.isAdminConsoleActive),p.xp6(4),p.Q6J("ngIf",!n.isAdminConsoleActive),p.xp6(4),p.Q6J("ngForOf",n.ciphers)}}function E(n,t){if(1&n&&(p.TgZ(0,"div",3),p._uU(1,"\n    "),p.YNc(2,C,4,6,"app-callout",4),p._uU(3,"\n    "),p.YNc(4,M,20,14,"ng-container",5),p._uU(5,"\n  "),p.qZA()),2&n){const n=p.oxw();p.xp6(2),p.Q6J("ngIf",!n.ciphers.length),p.xp6(2),p.Q6J("ngIf",n.ciphers.length)}}function $(n,t){}class B extends l.W{constructor(n,t,e,i,o,a,r,s){super(n,t,i,e,a,r,s),this.route=o}ngOnInit(){return N(this,void 0,void 0,(function*(){this.isAdminConsoleActive=!0,this.route.parent.parent.params.subscribe((n=>N(this,void 0,void 0,(function*(){this.organization=yield this.organizationService.get(n.organizationId),this.manageableCiphers=yield this.cipherService.getAll()}))))}))}getAllCiphers(){return this.cipherService.getAllFromApiForOrganization(this.organization.id)}canManageCipher(n){return this.manageableCiphers.some((t=>t.id===n.id))}}B.ɵfac=function(n){return new(n||B)(p.Y36(d.u),p.Y36(g.C),p.Y36(u.Z),p.Y36(s.Mn),p.Y36(r.gz),p.Y36(c.C),p.Y36(h.D),p.Y36(U._))},B.ɵcmp=p.Xpm({type:B,selectors:[["app-org-exposed-passwords-report"]],features:[p.qOj],decls:18,vars:8,consts:[["type","submit","buttonType","primary","bitButton","",3,"loading","click"],["class","mt-4",4,"ngIf"],["cipherAddEdit",""],[1,"mt-4"],["type","success",3,"title",4,"ngIf"],[4,"ngIf"],["type","success",3,"title"],["type","danger",3,"title","useAlertRole"],[3,"selected","selectedChange",4,"ngIf"],[1,"table","table-hover","table-list","table-ciphers"],["class","tw-border-0 tw-border-b-2 tw-border-solid tw-border-secondary-300 tw-font-bold tw-text-muted",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"selected","selectedChange"],[3,"value"],["bitBadge","","variant","info"],[1,"tw-border-0","tw-border-b-2","tw-border-solid","tw-border-secondary-300","tw-font-bold","tw-text-muted"],[1,"table-list-icon"],[3,"cipher"],[1,"reduced-lh","wrap"],[4,"ngIf","ngIfElse"],["cantManage",""],["appStopProp","",3,"disabled","organizationId","organizationName",4,"ngIf"],[1,"text-right"],["bitBadge","","variant","warning"],["href","#","appStopClick","",3,"title","click"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-collection",3,"title"],[1,"sr-only"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-paperclip",3,"title"],["appStopProp","",3,"disabled","organizationId","organizationName"]],template:function(n,t){1&n&&(p._UZ(0,"app-header"),p._uU(1,"\n\n"),p.TgZ(2,"bit-container"),p._uU(3,"\n  "),p.TgZ(4,"p"),p._uU(5),p.ALo(6,"i18n"),p.qZA(),p._uU(7,"\n  "),p.TgZ(8,"button",0),p.NdJ("click",(function(){return t.load()})),p._uU(9),p.ALo(10,"i18n"),p.qZA(),p._uU(11,"\n  "),p.YNc(12,E,6,2,"div",1),p._uU(13,"\n  "),p.YNc(14,$,0,0,"ng-template",null,2,p.W1O),p._uU(16,"\n"),p.qZA(),p._uU(17,"\n")),2&n&&(p.xp6(5),p.Oqu(p.lcZ(6,4,"exposedPasswordsReportDesc")),p.xp6(3),p.Q6J("loading",t.loading),p.xp6(1),p.hij("\n    ",p.lcZ(10,6,"checkExposedPasswords"),"\n  "),p.xp6(3),p.Q6J("ngIf",t.hasLoaded))},dependencies:[_.sg,_.O5,f.O,Z.o,A.O,x._,b.l,m.r,v.e,w.f,q.n,I.C,y.k,_.Ov,_.JJ,T.C,O.l],encapsulation:2});var j=e(92006),D=e(66459),R=function(n,t,e,i){return new(e||(e=Promise))((function(o,a){function r(n){try{u(i.next(n))}catch(t){a(t)}}function s(n){try{u(i.throw(n))}catch(t){a(t)}}function u(n){var t;n.done?o(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(r,s)}u((i=i.apply(n,t||[])).next())}))};function G(n,t){1&n&&(p.TgZ(0,"div"),p._uU(1,"\n    "),p._UZ(2,"i",3),p.ALo(3,"i18n"),p._uU(4,"\n    "),p.TgZ(5,"span",4),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n  "),p.qZA()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"loading")),p.xp6(4),p.Oqu(p.lcZ(7,4,"loading")))}function H(n,t){1&n&&(p.TgZ(0,"app-callout",7),p.ALo(1,"i18n"),p._uU(2),p.ALo(3,"i18n"),p.qZA()),2&n&&(p.s9C("title",p.lcZ(1,2,"goodNews")),p.xp6(2),p.hij("\n      ",p.lcZ(3,4,"noInactive2fa"),"\n    "))}function W(n,t){if(1&n&&(p.ynx(0),p._uU(1,"\n          "),p.TgZ(2,"bit-toggle",14),p._uU(3),p.TgZ(4,"span",15),p._uU(5),p.qZA(),p._uU(6,"\n          "),p.qZA(),p._uU(7,"\n        "),p.BQk()),2&n){const n=t.$implicit,e=p.oxw(4);p.xp6(2),p.Q6J("value",n),p.xp6(1),p.hij("\n            ",e.getName(n),"\n            "),p.xp6(2),p.hij(" ",e.getCount(n)," ")}}function K(n,t){if(1&n){const n=p.EpF();p.TgZ(0,"bit-toggle-group",13),p.NdJ("selectedChange",(function(t){p.CHM(n);const e=p.oxw(3);return p.KtG(e.filterOrgToggle(t))})),p.ALo(1,"async"),p.ALo(2,"i18n"),p._uU(3,"\n        "),p.YNc(4,W,8,3,"ng-container",12),p._uU(5,"\n      "),p.qZA()}if(2&n){const n=p.oxw(3);p.Q6J("selected",p.lcZ(1,3,n.filterOrgStatus$)),p.uIk("aria-label",p.lcZ(2,5,"addAccessFilter")),p.xp6(4),p.Q6J("ngForOf",n.filterStatus)}}function X(n,t){1&n&&(p.TgZ(0,"thead",16),p._uU(1,"\n          "),p.TgZ(2,"tr"),p._uU(3,"\n            "),p._UZ(4,"th"),p._uU(5,"\n            "),p.TgZ(6,"th"),p._uU(7),p.ALo(8,"i18n"),p.qZA(),p._uU(9,"\n            "),p.TgZ(10,"th"),p._uU(11),p.ALo(12,"i18n"),p.qZA(),p._uU(13,"\n          "),p.qZA(),p._uU(14,"\n        "),p.qZA()),2&n&&(p.xp6(7),p.Oqu(p.lcZ(8,2,"name")),p.xp6(4),p.Oqu(p.lcZ(12,4,"owner")))}function V(n,t){1&n&&(p.ynx(0),p._uU(1,"\n                "),p._UZ(2,"i",24),p.ALo(3,"i18n"),p._uU(4,"\n                "),p.TgZ(5,"span",4),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n              "),p.BQk()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"shared")),p.xp6(4),p.Oqu(p.lcZ(7,4,"shared")))}function nn(n,t){1&n&&(p.ynx(0),p._uU(1,"\n                "),p._UZ(2,"i",25),p.ALo(3,"i18n"),p._uU(4,"\n                "),p.TgZ(5,"span",4),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n              "),p.BQk()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"attachments")),p.xp6(4),p.Oqu(p.lcZ(7,4,"attachments")))}function tn(n,t){if(1&n&&(p.TgZ(0,"app-org-badge",26),p.ALo(1,"orgNameFromId"),p.ALo(2,"async"),p._uU(3,"\n              "),p.qZA()),2&n){const n=p.oxw().$implicit,t=p.oxw(3);p.Q6J("disabled",t.disabled)("organizationId",n.organizationId)("organizationName",p.xi3(1,3,n.organizationId,p.lcZ(2,6,t.organizations$)))}}function en(n,t){if(1&n&&(p.TgZ(0,"a",27),p._uU(1),p.ALo(2,"i18n"),p.qZA()),2&n){const n=p.oxw().$implicit,t=p.oxw(3);p.s9C("href",t.cipherDocs.get(n.id),p.LSH),p.xp6(1),p.hij("\n                ",p.lcZ(2,2,"instructions"),"")}}function on(n,t){if(1&n){const n=p.EpF();p.TgZ(0,"tr"),p._uU(1,"\n            "),p.TgZ(2,"td",17),p._uU(3,"\n              "),p._UZ(4,"app-vault-icon",18),p._uU(5,"\n            "),p.qZA(),p._uU(6,"\n            "),p.TgZ(7,"td",19),p._uU(8,"\n              "),p.TgZ(9,"a",20),p.NdJ("click",(function(){const t=p.CHM(n).$implicit,e=p.oxw(3);return p.KtG(e.selectCipher(t))})),p.ALo(10,"i18n"),p._uU(11),p.qZA(),p._uU(12,"\n              "),p.YNc(13,V,9,6,"ng-container",0),p._uU(14,"\n              "),p.YNc(15,nn,9,6,"ng-container",0),p._uU(16,"\n              "),p._UZ(17,"br"),p._uU(18,"\n              "),p.TgZ(19,"small"),p._uU(20),p.qZA(),p._uU(21,"\n            "),p.qZA(),p._uU(22,"\n            "),p.TgZ(23,"td"),p._uU(24,"\n              "),p.YNc(25,tn,4,8,"app-org-badge",21),p._uU(26,"\n            "),p.qZA(),p._uU(27,"\n            "),p.TgZ(28,"td",22),p._uU(29,"\n              "),p.YNc(30,en,3,4,"a",23),p._uU(31,"\n            "),p.qZA(),p._uU(32,"\n          "),p.qZA()}if(2&n){const n=t.$implicit,e=p.oxw(3);p.xp6(4),p.Q6J("cipher",n),p.xp6(5),p.s9C("title",p.lcZ(10,8,"editItem")),p.xp6(2),p.Oqu(n.name),p.xp6(2),p.Q6J("ngIf",!e.organization&&n.organizationId),p.xp6(2),p.Q6J("ngIf",n.hasAttachments),p.xp6(5),p.Oqu(n.subTitle),p.xp6(5),p.Q6J("ngIf",!e.organization),p.xp6(5),p.Q6J("ngIf",e.cipherDocs.has(n.id))}}function an(n,t){if(1&n&&(p.ynx(0),p._uU(1,"\n      "),p.TgZ(2,"app-callout",8),p.ALo(3,"i18n"),p._uU(4),p.ALo(5,"i18n"),p.ALo(6,"number"),p.qZA(),p._uU(7,"\n      "),p.YNc(8,K,6,7,"bit-toggle-group",9),p._uU(9,"\n      "),p.TgZ(10,"table",10),p._uU(11,"\n        "),p.YNc(12,X,15,6,"thead",11),p._uU(13,"\n        "),p.TgZ(14,"tbody"),p._uU(15,"\n          "),p.YNc(16,on,33,10,"tr",12),p._uU(17,"\n        "),p.qZA(),p._uU(18,"\n      "),p.qZA(),p._uU(19,"\n    "),p.BQk()),2&n){const n=p.oxw(2);p.xp6(2),p.s9C("title",p.lcZ(3,5,"inactive2faFound")),p.xp6(2),p.hij("\n        ",p.Dn7(5,7,"inactive2faFoundReportDesc",p.lcZ(6,11,n.ciphers.length),n.vaultMsg),"\n      "),p.xp6(4),p.Q6J("ngIf",n.showFilterToggle&&!n.isAdminConsoleActive),p.xp6(4),p.Q6J("ngIf",!n.isAdminConsoleActive),p.xp6(4),p.Q6J("ngForOf",n.ciphers)}}function rn(n,t){if(1&n&&(p.TgZ(0,"div",5),p._uU(1,"\n    "),p.YNc(2,H,4,6,"app-callout",6),p._uU(3,"\n    "),p.YNc(4,an,20,13,"ng-container",0),p._uU(5,"\n  "),p.qZA()),2&n){const n=p.oxw();p.xp6(2),p.Q6J("ngIf",!n.ciphers.length),p.xp6(2),p.Q6J("ngIf",n.ciphers.length)}}function sn(n,t){}class un extends j.Y{constructor(n,t,e,i,o,a,r,s){super(n,a,t,i,o,r,s),this.route=e}ngOnInit(){const n=Object.create(null,{ngOnInit:{get:()=>super.ngOnInit}});return R(this,void 0,void 0,(function*(){this.isAdminConsoleActive=!0,this.route.parent.parent.params.subscribe((t=>R(this,void 0,void 0,(function*(){this.organization=yield this.organizationService.get(t.organizationId),yield n.ngOnInit.call(this)}))))}))}getAllCiphers(){return this.cipherService.getAllFromApiForOrganization(this.organization.id)}}un.ɵfac=function(n){return new(n||un)(p.Y36(d.u),p.Y36(u.Z),p.Y36(r.gz),p.Y36(D.$),p.Y36(c.C),p.Y36(s.Mn),p.Y36(h.D),p.Y36(U._))},un.ɵcmp=p.Xpm({type:un,selectors:[["app-inactive-two-factor-report"]],features:[p.qOj],decls:16,vars:5,consts:[[4,"ngIf"],["class","mt-4",4,"ngIf"],["cipherAddEdit",""],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin","text-muted",3,"title"],[1,"sr-only"],[1,"mt-4"],["type","success",3,"title",4,"ngIf"],["type","success",3,"title"],["type","danger",3,"title"],[3,"selected","selectedChange",4,"ngIf"],[1,"table","table-hover","table-list","table-ciphers"],["class","tw-border-0 tw-border-b-2 tw-border-solid tw-border-secondary-300 tw-font-bold tw-text-muted",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"selected","selectedChange"],[3,"value"],["bitBadge","","variant","info"],[1,"tw-border-0","tw-border-b-2","tw-border-solid","tw-border-secondary-300","tw-font-bold","tw-text-muted"],[1,"table-list-icon"],[3,"cipher"],[1,"reduced-lh","wrap"],["href","#","appStopClick","",3,"title","click"],["appStopProp","",3,"disabled","organizationId","organizationName",4,"ngIf"],[1,"text-right"],["bitBadge","","target","_blank","rel","noreferrer",3,"href",4,"ngIf"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-collection",3,"title"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-paperclip",3,"title"],["appStopProp","",3,"disabled","organizationId","organizationName"],["bitBadge","","target","_blank","rel","noreferrer",3,"href"]],template:function(n,t){1&n&&(p._UZ(0,"app-header"),p._uU(1,"\n\n"),p.TgZ(2,"bit-container"),p._uU(3,"\n  "),p.TgZ(4,"p"),p._uU(5),p.ALo(6,"i18n"),p.qZA(),p._uU(7,"\n  "),p.YNc(8,G,9,6,"div",0),p._uU(9,"\n  "),p.YNc(10,rn,6,2,"div",1),p._uU(11,"\n  "),p.YNc(12,sn,0,0,"ng-template",null,2,p.W1O),p._uU(14,"\n"),p.qZA(),p._uU(15,"\n")),2&n&&(p.xp6(5),p.Oqu(p.lcZ(6,3,"inactive2faReportDesc")),p.xp6(3),p.Q6J("ngIf",!t.hasLoaded&&t.loading),p.xp6(2),p.Q6J("ngIf",t.hasLoaded))},dependencies:[_.sg,_.O5,f.O,Z.o,A.O,x._,b.l,v.e,w.f,q.n,I.C,y.k,_.Ov,_.JJ,T.C,O.l],encapsulation:2});var cn=e(22353),ln=function(n,t,e,i){return new(e||(e=Promise))((function(o,a){function r(n){try{u(i.next(n))}catch(t){a(t)}}function s(n){try{u(i.throw(n))}catch(t){a(t)}}function u(n){var t;n.done?o(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(r,s)}u((i=i.apply(n,t||[])).next())}))};function pn(n,t){1&n&&(p.TgZ(0,"div"),p._uU(1,"\n    "),p._UZ(2,"i",3),p.ALo(3,"i18n"),p._uU(4,"\n    "),p.TgZ(5,"span",4),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n  "),p.qZA()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"loading")),p.xp6(4),p.Oqu(p.lcZ(7,4,"loading")))}function dn(n,t){1&n&&(p.TgZ(0,"app-callout",7),p.ALo(1,"i18n"),p._uU(2),p.ALo(3,"i18n"),p.qZA()),2&n&&(p.s9C("title",p.lcZ(1,2,"goodNews")),p.xp6(2),p.hij("\n      ",p.lcZ(3,4,"noReusedPasswords"),"\n    "))}function gn(n,t){if(1&n&&(p.ynx(0),p._uU(1,"\n          "),p.TgZ(2,"bit-toggle",14),p._uU(3),p.TgZ(4,"span",15),p._uU(5),p.qZA(),p._uU(6,"\n          "),p.qZA(),p._uU(7,"\n        "),p.BQk()),2&n){const n=t.$implicit,e=p.oxw(4);p.xp6(2),p.Q6J("value",n),p.xp6(1),p.hij("\n            ",e.getName(n),"\n            "),p.xp6(2),p.hij(" ",e.getCount(n)," ")}}function hn(n,t){if(1&n){const n=p.EpF();p.TgZ(0,"bit-toggle-group",13),p.NdJ("selectedChange",(function(t){p.CHM(n);const e=p.oxw(3);return p.KtG(e.filterOrgToggle(t))})),p.ALo(1,"async"),p.ALo(2,"i18n"),p._uU(3,"\n        "),p.YNc(4,gn,8,3,"ng-container",12),p._uU(5,"\n      "),p.qZA()}if(2&n){const n=p.oxw(3);p.Q6J("selected",p.lcZ(1,3,n.filterOrgStatus$)),p.uIk("aria-label",p.lcZ(2,5,"addAccessFilter")),p.xp6(4),p.Q6J("ngForOf",n.filterStatus)}}function Un(n,t){1&n&&(p.TgZ(0,"thead",16),p._uU(1,"\n          "),p.TgZ(2,"tr"),p._uU(3,"\n            "),p._UZ(4,"th"),p._uU(5,"\n            "),p.TgZ(6,"th"),p._uU(7),p.ALo(8,"i18n"),p.qZA(),p._uU(9,"\n            "),p.TgZ(10,"th"),p._uU(11),p.ALo(12,"i18n"),p.qZA(),p._uU(13,"\n          "),p.qZA(),p._uU(14,"\n        "),p.qZA()),2&n&&(p.xp6(7),p.Oqu(p.lcZ(8,2,"name")),p.xp6(4),p.Oqu(p.lcZ(12,4,"owner")))}function _n(n,t){if(1&n){const n=p.EpF();p.ynx(0),p._uU(1,"\n                "),p.TgZ(2,"a",25),p.NdJ("click",(function(){p.CHM(n);const t=p.oxw().$implicit,e=p.oxw(3);return p.KtG(e.selectCipher(t))})),p.ALo(3,"i18n"),p._uU(4),p.qZA(),p._uU(5,"\n              "),p.BQk()}if(2&n){const n=p.oxw().$implicit;p.xp6(2),p.s9C("title",p.lcZ(3,2,"editItem")),p.xp6(2),p.Oqu(n.name)}}function fn(n,t){if(1&n&&(p._uU(0,"\n                "),p.TgZ(1,"span"),p._uU(2),p.qZA(),p._uU(3,"\n              ")),2&n){const n=p.oxw().$implicit;p.xp6(2),p.Oqu(n.name)}}function Zn(n,t){1&n&&(p.ynx(0),p._uU(1,"\n                "),p._UZ(2,"i",26),p.ALo(3,"i18n"),p._uU(4,"\n                "),p.TgZ(5,"span",4),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n              "),p.BQk()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"shared")),p.xp6(4),p.Oqu(p.lcZ(7,4,"shared")))}function An(n,t){1&n&&(p.ynx(0),p._uU(1,"\n                "),p._UZ(2,"i",27),p.ALo(3,"i18n"),p._uU(4,"\n                "),p.TgZ(5,"span",4),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n              "),p.BQk()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"attachments")),p.xp6(4),p.Oqu(p.lcZ(7,4,"attachments")))}function xn(n,t){if(1&n&&(p.TgZ(0,"app-org-badge",28),p.ALo(1,"orgNameFromId"),p.ALo(2,"async"),p._uU(3,"\n              "),p.qZA()),2&n){const n=p.oxw().$implicit,t=p.oxw(3);p.Q6J("disabled",t.disabled)("organizationId",n.organizationId)("organizationName",p.xi3(1,3,n.organizationId,p.lcZ(2,6,t.organizations$)))}}function bn(n,t){if(1&n&&(p.TgZ(0,"tr"),p._uU(1,"\n            "),p.TgZ(2,"td",17),p._uU(3,"\n              "),p._UZ(4,"app-vault-icon",18),p._uU(5,"\n            "),p.qZA(),p._uU(6,"\n            "),p.TgZ(7,"td",19),p._uU(8,"\n              "),p.YNc(9,_n,6,4,"ng-container",20),p._uU(10,"\n              "),p.YNc(11,fn,4,1,"ng-template",null,21,p.W1O),p._uU(13,"\n              "),p.YNc(14,Zn,9,6,"ng-container",0),p._uU(15,"\n              "),p.YNc(16,An,9,6,"ng-container",0),p._uU(17,"\n              "),p._UZ(18,"br"),p._uU(19,"\n              "),p.TgZ(20,"small"),p._uU(21),p.qZA(),p._uU(22,"\n            "),p.qZA(),p._uU(23,"\n            "),p.TgZ(24,"td"),p._uU(25,"\n              "),p.YNc(26,xn,4,8,"app-org-badge",22),p._uU(27,"\n            "),p.qZA(),p._uU(28,"\n            "),p.TgZ(29,"td",23),p._uU(30,"\n              "),p.TgZ(31,"span",24),p._uU(32),p.ALo(33,"i18n"),p.qZA(),p._uU(34,"\n            "),p.qZA(),p._uU(35,"\n          "),p.qZA()),2&n){const n=t.$implicit,e=p.MAs(12),i=p.oxw(3);p.xp6(4),p.Q6J("cipher",n),p.xp6(5),p.Q6J("ngIf",!i.organization||i.canManageCipher(n))("ngIfElse",e),p.xp6(5),p.Q6J("ngIf",!i.organization&&n.organizationId),p.xp6(2),p.Q6J("ngIf",n.hasAttachments),p.xp6(5),p.Oqu(n.subTitle),p.xp6(5),p.Q6J("ngIf",!i.organization),p.xp6(6),p.hij("\n                ",p.xi3(33,8,"reusedXTimes",i.passwordUseMap.get(n.login.password)),"\n              ")}}function mn(n,t){if(1&n&&(p.ynx(0),p._uU(1,"\n      "),p.TgZ(2,"app-callout",8),p.ALo(3,"i18n"),p._uU(4),p.ALo(5,"i18n"),p.ALo(6,"number"),p.qZA(),p._uU(7,"\n\n      "),p.YNc(8,hn,6,7,"bit-toggle-group",9),p._uU(9,"\n\n      "),p.TgZ(10,"table",10),p._uU(11,"\n        "),p.YNc(12,Un,15,6,"thead",11),p._uU(13,"\n        "),p.TgZ(14,"tbody"),p._uU(15,"\n          "),p.YNc(16,bn,36,11,"tr",12),p._uU(17,"\n        "),p.qZA(),p._uU(18,"\n      "),p.qZA(),p._uU(19,"\n    "),p.BQk()),2&n){const n=p.oxw(2);p.xp6(2),p.s9C("title",p.lcZ(3,5,"reusedPasswordsFound")),p.xp6(2),p.hij("\n        ",p.Dn7(5,7,"reusedPasswordsFoundReportDesc",p.lcZ(6,11,n.ciphers.length),n.vaultMsg),"\n      "),p.xp6(4),p.Q6J("ngIf",n.showFilterToggle&&!n.isAdminConsoleActive),p.xp6(4),p.Q6J("ngIf",!n.isAdminConsoleActive),p.xp6(4),p.Q6J("ngForOf",n.ciphers)}}function vn(n,t){if(1&n&&(p.TgZ(0,"div",5),p._uU(1,"\n    "),p.YNc(2,dn,4,6,"app-callout",6),p._uU(3,"\n    "),p.YNc(4,mn,20,13,"ng-container",0),p._uU(5,"\n  "),p.qZA()),2&n){const n=p.oxw();p.xp6(2),p.Q6J("ngIf",!n.ciphers.length),p.xp6(2),p.Q6J("ngIf",n.ciphers.length)}}function wn(n,t){}class qn extends cn.Q{constructor(n,t,e,i,o,a,r){super(n,i,t,o,a,r),this.route=e}ngOnInit(){const n=Object.create(null,{ngOnInit:{get:()=>super.ngOnInit}});return ln(this,void 0,void 0,(function*(){this.isAdminConsoleActive=!0,this.route.parent.parent.params.subscribe((t=>ln(this,void 0,void 0,(function*(){this.organization=yield this.organizationService.get(t.organizationId),this.manageableCiphers=yield this.cipherService.getAll(),yield n.ngOnInit.call(this)}))))}))}getAllCiphers(){return this.cipherService.getAllFromApiForOrganization(this.organization.id)}canManageCipher(n){return this.manageableCiphers.some((t=>t.id===n.id))}}qn.ɵfac=function(n){return new(n||qn)(p.Y36(d.u),p.Y36(u.Z),p.Y36(r.gz),p.Y36(s.Mn),p.Y36(c.C),p.Y36(h.D),p.Y36(U._))},qn.ɵcmp=p.Xpm({type:qn,selectors:[["app-reused-passwords-report"]],features:[p.qOj],decls:16,vars:5,consts:[[4,"ngIf"],["class","mt-4",4,"ngIf"],["cipherAddEdit",""],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin","text-muted",3,"title"],[1,"sr-only"],[1,"mt-4"],["type","success",3,"title",4,"ngIf"],["type","success",3,"title"],["type","danger",3,"title"],[3,"selected","selectedChange",4,"ngIf"],[1,"table","table-hover","table-list","table-ciphers"],["class","tw-border-0 tw-border-b-2 tw-border-solid tw-border-secondary-300 tw-font-bold tw-text-muted",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"selected","selectedChange"],[3,"value"],["bitBadge","","variant","info"],[1,"tw-border-0","tw-border-b-2","tw-border-solid","tw-border-secondary-300","tw-font-bold","tw-text-muted"],[1,"table-list-icon"],[3,"cipher"],[1,"reduced-lh","wrap"],[4,"ngIf","ngIfElse"],["cantManage",""],["appStopProp","",3,"disabled","organizationId","organizationName",4,"ngIf"],[1,"text-right"],["bitBadge","","variant","warning"],["href","#","appStopClick","",3,"title","click"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-collection",3,"title"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-paperclip",3,"title"],["appStopProp","",3,"disabled","organizationId","organizationName"]],template:function(n,t){1&n&&(p._UZ(0,"app-header"),p._uU(1,"\n\n"),p.TgZ(2,"bit-container"),p._uU(3,"\n  "),p.TgZ(4,"p"),p._uU(5),p.ALo(6,"i18n"),p.qZA(),p._uU(7,"\n  "),p.YNc(8,pn,9,6,"div",0),p._uU(9,"\n  "),p.YNc(10,vn,6,2,"div",1),p._uU(11,"\n  "),p.YNc(12,wn,0,0,"ng-template",null,2,p.W1O),p._uU(14,"\n"),p.qZA(),p._uU(15,"\n")),2&n&&(p.xp6(5),p.Oqu(p.lcZ(6,3,"reusedPasswordsReportDesc")),p.xp6(3),p.Q6J("ngIf",!t.hasLoaded&&t.loading),p.xp6(2),p.Q6J("ngIf",t.hasLoaded))},dependencies:[_.sg,_.O5,f.O,Z.o,A.O,x._,b.l,v.e,w.f,q.n,I.C,y.k,_.Ov,_.JJ,T.C,O.l],encapsulation:2});var In=e(88775),yn=function(n,t,e,i){return new(e||(e=Promise))((function(o,a){function r(n){try{u(i.next(n))}catch(t){a(t)}}function s(n){try{u(i.throw(n))}catch(t){a(t)}}function u(n){var t;n.done?o(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(r,s)}u((i=i.apply(n,t||[])).next())}))};function Tn(n,t){1&n&&(p.TgZ(0,"div"),p._uU(1,"\n    "),p._UZ(2,"i",3),p.ALo(3,"i18n"),p._uU(4,"\n    "),p.TgZ(5,"span",4),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n  "),p.qZA()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"loading")),p.xp6(4),p.Oqu(p.lcZ(7,4,"loading")))}function On(n,t){1&n&&(p.TgZ(0,"app-callout",7),p.ALo(1,"i18n"),p._uU(2),p.ALo(3,"i18n"),p.qZA()),2&n&&(p.s9C("title",p.lcZ(1,2,"goodNews")),p.xp6(2),p.hij("\n      ",p.lcZ(3,4,"noUnsecuredWebsites"),"\n    "))}function Nn(n,t){if(1&n&&(p.ynx(0),p._uU(1,"\n          "),p.TgZ(2,"bit-toggle",14),p._uU(3),p.TgZ(4,"span",15),p._uU(5),p.qZA(),p._uU(6,"\n          "),p.qZA(),p._uU(7,"\n        "),p.BQk()),2&n){const n=t.$implicit,e=p.oxw(4);p.xp6(2),p.Q6J("value",n),p.xp6(1),p.hij("\n            ",e.getName(n),"\n            "),p.xp6(2),p.hij(" ",e.getCount(n)," ")}}function Cn(n,t){if(1&n){const n=p.EpF();p.TgZ(0,"bit-toggle-group",13),p.NdJ("selectedChange",(function(t){p.CHM(n);const e=p.oxw(3);return p.KtG(e.filterOrgToggle(t))})),p.ALo(1,"async"),p.ALo(2,"i18n"),p._uU(3,"\n        "),p.YNc(4,Nn,8,3,"ng-container",12),p._uU(5,"\n      "),p.qZA()}if(2&n){const n=p.oxw(3);p.Q6J("selected",p.lcZ(1,3,n.filterOrgStatus$)),p.uIk("aria-label",p.lcZ(2,5,"addAccessFilter")),p.xp6(4),p.Q6J("ngForOf",n.filterStatus)}}function Yn(n,t){1&n&&(p.TgZ(0,"thead",16),p._uU(1,"\n          "),p.TgZ(2,"tr"),p._uU(3,"\n            "),p._UZ(4,"th"),p._uU(5,"\n            "),p.TgZ(6,"th"),p._uU(7),p.ALo(8,"i18n"),p.qZA(),p._uU(9,"\n            "),p.TgZ(10,"th"),p._uU(11),p.ALo(12,"i18n"),p.qZA(),p._uU(13,"\n          "),p.qZA(),p._uU(14,"\n        "),p.qZA()),2&n&&(p.xp6(7),p.Oqu(p.lcZ(8,2,"name")),p.xp6(4),p.Oqu(p.lcZ(12,4,"owner")))}function Ln(n,t){1&n&&(p.ynx(0),p._uU(1,"\n                "),p._UZ(2,"i",22),p.ALo(3,"i18n"),p._uU(4,"\n                "),p.TgZ(5,"span",4),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n              "),p.BQk()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"shared")),p.xp6(4),p.Oqu(p.lcZ(7,4,"shared")))}function zn(n,t){1&n&&(p.ynx(0),p._uU(1,"\n                "),p._UZ(2,"i",23),p.ALo(3,"i18n"),p._uU(4,"\n                "),p.TgZ(5,"span",4),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n              "),p.BQk()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"attachments")),p.xp6(4),p.Oqu(p.lcZ(7,4,"attachments")))}function Jn(n,t){if(1&n&&(p.TgZ(0,"app-org-badge",24),p.ALo(1,"orgNameFromId"),p.ALo(2,"async"),p._uU(3,"\n              "),p.qZA()),2&n){const n=p.oxw().$implicit,t=p.oxw(3);p.Q6J("disabled",t.disabled)("organizationId",n.organizationId)("organizationName",p.xi3(1,3,n.organizationId,p.lcZ(2,6,t.organizations$)))}}function Qn(n,t){if(1&n){const n=p.EpF();p.TgZ(0,"tr"),p._uU(1,"\n            "),p.TgZ(2,"td",17),p._uU(3,"\n              "),p._UZ(4,"app-vault-icon",18),p._uU(5,"\n            "),p.qZA(),p._uU(6,"\n            "),p.TgZ(7,"td",19),p._uU(8,"\n              "),p.TgZ(9,"a",20),p.NdJ("click",(function(){const t=p.CHM(n).$implicit,e=p.oxw(3);return p.KtG(e.selectCipher(t))})),p.ALo(10,"i18n"),p._uU(11),p.qZA(),p._uU(12,"\n              "),p.YNc(13,Ln,9,6,"ng-container",0),p._uU(14,"\n              "),p.YNc(15,zn,9,6,"ng-container",0),p._uU(16,"\n              "),p._UZ(17,"br"),p._uU(18,"\n              "),p.TgZ(19,"small"),p._uU(20),p.qZA(),p._uU(21,"\n            "),p.qZA(),p._uU(22,"\n            "),p.TgZ(23,"td"),p._uU(24,"\n              "),p.YNc(25,Jn,4,8,"app-org-badge",21),p._uU(26,"\n            "),p.qZA(),p._uU(27,"\n          "),p.qZA()}if(2&n){const n=t.$implicit,e=p.oxw(3);p.xp6(4),p.Q6J("cipher",n),p.xp6(5),p.s9C("title",p.lcZ(10,7,"editItem")),p.xp6(2),p.Oqu(n.name),p.xp6(2),p.Q6J("ngIf",!e.organization&&n.organizationId),p.xp6(2),p.Q6J("ngIf",n.hasAttachments),p.xp6(5),p.Oqu(n.subTitle),p.xp6(5),p.Q6J("ngIf",!e.organization)}}function Sn(n,t){if(1&n&&(p.ynx(0),p._uU(1,"\n      "),p.TgZ(2,"app-callout",8),p.ALo(3,"i18n"),p._uU(4),p.ALo(5,"i18n"),p.ALo(6,"number"),p.qZA(),p._uU(7,"\n\n      "),p.YNc(8,Cn,6,7,"bit-toggle-group",9),p._uU(9,"\n      "),p.TgZ(10,"table",10),p._uU(11,"\n        "),p.YNc(12,Yn,15,6,"thead",11),p._uU(13,"\n        "),p.TgZ(14,"tbody"),p._uU(15,"\n          "),p.YNc(16,Qn,28,9,"tr",12),p._uU(17,"\n        "),p.qZA(),p._uU(18,"\n      "),p.qZA(),p._uU(19,"\n    "),p.BQk()),2&n){const n=p.oxw(2);p.xp6(2),p.s9C("title",p.lcZ(3,5,"unsecuredWebsitesFound")),p.xp6(2),p.hij("\n        ",p.Dn7(5,7,"unsecuredWebsitesFoundReportDesc",p.lcZ(6,11,n.ciphers.length),n.vaultMsg),"\n      "),p.xp6(4),p.Q6J("ngIf",n.showFilterToggle&&!n.isAdminConsoleActive),p.xp6(4),p.Q6J("ngIf",!n.isAdminConsoleActive),p.xp6(4),p.Q6J("ngForOf",n.ciphers)}}function Fn(n,t){if(1&n&&(p.TgZ(0,"div",5),p._uU(1,"\n    "),p.YNc(2,On,4,6,"app-callout",6),p._uU(3,"\n    "),p.YNc(4,Sn,20,13,"ng-container",0),p._uU(5,"\n  "),p.qZA()),2&n){const n=p.oxw();p.xp6(2),p.Q6J("ngIf",!n.ciphers.length),p.xp6(2),p.Q6J("ngIf",n.ciphers.length)}}function kn(n,t){}class Pn extends In.i{constructor(n,t,e,i,o,a,r){super(n,i,t,o,a,r),this.route=e}ngOnInit(){const n=Object.create(null,{ngOnInit:{get:()=>super.ngOnInit}});return yn(this,void 0,void 0,(function*(){this.isAdminConsoleActive=!0,this.route.parent.parent.params.subscribe((t=>yn(this,void 0,void 0,(function*(){this.organization=yield this.organizationService.get(t.organizationId),yield n.ngOnInit.call(this)}))))}))}getAllCiphers(){return this.cipherService.getAllFromApiForOrganization(this.organization.id)}}Pn.ɵfac=function(n){return new(n||Pn)(p.Y36(d.u),p.Y36(u.Z),p.Y36(r.gz),p.Y36(s.Mn),p.Y36(c.C),p.Y36(h.D),p.Y36(U._))},Pn.ɵcmp=p.Xpm({type:Pn,selectors:[["app-unsecured-websites-report"]],features:[p.qOj],decls:16,vars:5,consts:[[4,"ngIf"],["class","mt-4",4,"ngIf"],["cipherAddEdit",""],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin","text-muted",3,"title"],[1,"sr-only"],[1,"mt-4"],["type","success",3,"title",4,"ngIf"],["type","success",3,"title"],["type","danger",3,"title"],[3,"selected","selectedChange",4,"ngIf"],[1,"table","table-hover","table-list","table-ciphers"],["class","tw-border-0 tw-border-b-2 tw-border-solid tw-border-secondary-300 tw-font-bold tw-text-muted",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"selected","selectedChange"],[3,"value"],["bitBadge","","variant","info"],[1,"tw-border-0","tw-border-b-2","tw-border-solid","tw-border-secondary-300","tw-font-bold","tw-text-muted"],[1,"table-list-icon"],[3,"cipher"],[1,"reduced-lh","wrap"],["href","#","appStopClick","",3,"title","click"],["appStopProp","",3,"disabled","organizationId","organizationName",4,"ngIf"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-collection",3,"title"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-paperclip",3,"title"],["appStopProp","",3,"disabled","organizationId","organizationName"]],template:function(n,t){1&n&&(p._UZ(0,"app-header"),p._uU(1,"\n\n"),p.TgZ(2,"bit-container"),p._uU(3,"\n  "),p.TgZ(4,"p"),p._uU(5),p.ALo(6,"i18n"),p.qZA(),p._uU(7,"\n  "),p.YNc(8,Tn,9,6,"div",0),p._uU(9,"\n  "),p.YNc(10,Fn,6,2,"div",1),p._uU(11,"\n  "),p.YNc(12,kn,0,0,"ng-template",null,2,p.W1O),p._uU(14,"\n"),p.qZA(),p._uU(15,"\n")),2&n&&(p.xp6(5),p.Oqu(p.lcZ(6,3,"unsecuredWebsitesReportDesc")),p.xp6(3),p.Q6J("ngIf",!t.hasLoaded&&t.loading),p.xp6(2),p.Q6J("ngIf",t.hasLoaded))},dependencies:[_.sg,_.O5,f.O,Z.o,A.O,x._,b.l,v.e,w.f,q.n,I.C,y.k,_.Ov,_.JJ,T.C,O.l],encapsulation:2});var Mn=e(51453),En=e(2578),$n=function(n,t,e,i){return new(e||(e=Promise))((function(o,a){function r(n){try{u(i.next(n))}catch(t){a(t)}}function s(n){try{u(i.throw(n))}catch(t){a(t)}}function u(n){var t;n.done?o(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(r,s)}u((i=i.apply(n,t||[])).next())}))};function Bn(n,t){1&n&&(p.TgZ(0,"div"),p._uU(1,"\n    "),p._UZ(2,"i",3),p.ALo(3,"i18n"),p._uU(4,"\n    "),p.TgZ(5,"span",4),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n  "),p.qZA()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"loading")),p.xp6(4),p.Oqu(p.lcZ(7,4,"loading")))}function jn(n,t){1&n&&(p.TgZ(0,"app-callout",7),p.ALo(1,"i18n"),p._uU(2),p.ALo(3,"i18n"),p.qZA()),2&n&&(p.s9C("title",p.lcZ(1,2,"goodNews")),p.xp6(2),p.hij("\n      ",p.lcZ(3,4,"noWeakPasswords"),"\n    "))}function Dn(n,t){if(1&n&&(p.ynx(0),p._uU(1,"\n          "),p.TgZ(2,"bit-toggle",14),p._uU(3),p.TgZ(4,"span",15),p._uU(5),p.qZA(),p._uU(6,"\n          "),p.qZA(),p._uU(7,"\n        "),p.BQk()),2&n){const n=t.$implicit,e=p.oxw(4);p.xp6(2),p.Q6J("value",n),p.xp6(1),p.hij("\n            ",e.getName(n),"\n            "),p.xp6(2),p.hij(" ",e.getCount(n)," ")}}function Rn(n,t){if(1&n){const n=p.EpF();p.TgZ(0,"bit-toggle-group",13),p.NdJ("selectedChange",(function(t){p.CHM(n);const e=p.oxw(3);return p.KtG(e.filterOrgToggle(t))})),p.ALo(1,"async"),p.ALo(2,"i18n"),p._uU(3,"\n        "),p.YNc(4,Dn,8,3,"ng-container",12),p._uU(5,"\n      "),p.qZA()}if(2&n){const n=p.oxw(3);p.Q6J("selected",p.lcZ(1,3,n.filterOrgStatus$)),p.uIk("aria-label",p.lcZ(2,5,"addAccessFilter")),p.xp6(4),p.Q6J("ngForOf",n.filterStatus)}}function Gn(n,t){1&n&&(p.TgZ(0,"thead",16),p._uU(1,"\n          "),p.TgZ(2,"tr"),p._uU(3,"\n            "),p._UZ(4,"th"),p._uU(5,"\n            "),p.TgZ(6,"th"),p._uU(7),p.ALo(8,"i18n"),p.qZA(),p._uU(9,"\n            "),p.TgZ(10,"th"),p._uU(11),p.ALo(12,"i18n"),p.qZA(),p._uU(13,"\n          "),p.qZA(),p._uU(14,"\n        "),p.qZA()),2&n&&(p.xp6(7),p.Oqu(p.lcZ(8,2,"name")),p.xp6(4),p.Oqu(p.lcZ(12,4,"owner")))}function Hn(n,t){if(1&n){const n=p.EpF();p.ynx(0),p._uU(1,"\n                "),p.TgZ(2,"a",25),p.NdJ("click",(function(){p.CHM(n);const t=p.oxw().$implicit,e=p.oxw(3);return p.KtG(e.selectCipher(t))})),p.ALo(3,"i18n"),p._uU(4),p.qZA(),p._uU(5,"\n              "),p.BQk()}if(2&n){const n=p.oxw().$implicit;p.xp6(2),p.s9C("title",p.lcZ(3,2,"editItem")),p.xp6(2),p.Oqu(n.name)}}function Wn(n,t){if(1&n&&(p._uU(0,"\n                "),p.TgZ(1,"span"),p._uU(2),p.qZA(),p._uU(3,"\n              ")),2&n){const n=p.oxw().$implicit;p.xp6(2),p.Oqu(n.name)}}function Kn(n,t){1&n&&(p.ynx(0),p._uU(1,"\n                "),p._UZ(2,"i",26),p.ALo(3,"i18n"),p._uU(4,"\n                "),p.TgZ(5,"span",4),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n              "),p.BQk()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"shared")),p.xp6(4),p.Oqu(p.lcZ(7,4,"shared")))}function Xn(n,t){1&n&&(p.ynx(0),p._uU(1,"\n                "),p._UZ(2,"i",27),p.ALo(3,"i18n"),p._uU(4,"\n                "),p.TgZ(5,"span",4),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n              "),p.BQk()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"attachments")),p.xp6(4),p.Oqu(p.lcZ(7,4,"attachments")))}function Vn(n,t){if(1&n&&(p.TgZ(0,"app-org-badge",28),p.ALo(1,"orgNameFromId"),p.ALo(2,"async"),p._uU(3,"\n              "),p.qZA()),2&n){const n=p.oxw().$implicit,t=p.oxw(3);p.Q6J("disabled",t.disabled)("organizationId",n.organizationId)("organizationName",p.xi3(1,3,n.organizationId,p.lcZ(2,6,t.organizations$)))}}function nt(n,t){if(1&n&&(p.TgZ(0,"tr"),p._uU(1,"\n            "),p.TgZ(2,"td",17),p._uU(3,"\n              "),p._UZ(4,"app-vault-icon",18),p._uU(5,"\n            "),p.qZA(),p._uU(6,"\n            "),p.TgZ(7,"td",19),p._uU(8,"\n              "),p.YNc(9,Hn,6,4,"ng-container",20),p._uU(10,"\n              "),p.YNc(11,Wn,4,1,"ng-template",null,21,p.W1O),p._uU(13,"\n              "),p.YNc(14,Kn,9,6,"ng-container",0),p._uU(15,"\n              "),p.YNc(16,Xn,9,6,"ng-container",0),p._uU(17,"\n              "),p._UZ(18,"br"),p._uU(19,"\n              "),p.TgZ(20,"small"),p._uU(21),p.qZA(),p._uU(22,"\n            "),p.qZA(),p._uU(23,"\n            "),p.TgZ(24,"td"),p._uU(25,"\n              "),p.YNc(26,Vn,4,8,"app-org-badge",22),p._uU(27,"\n            "),p.qZA(),p._uU(28,"\n            "),p.TgZ(29,"td",23),p._uU(30,"\n              "),p.TgZ(31,"span",24),p._uU(32),p.ALo(33,"i18n"),p.qZA(),p._uU(34,"\n            "),p.qZA(),p._uU(35,"\n          "),p.qZA()),2&n){const n=t.$implicit,e=p.MAs(12),i=p.oxw(3);p.xp6(4),p.Q6J("cipher",n),p.xp6(5),p.Q6J("ngIf",!i.organization||i.canManageCipher(n))("ngIfElse",e),p.xp6(5),p.Q6J("ngIf",!i.organization&&n.organizationId),p.xp6(2),p.Q6J("ngIf",n.hasAttachments),p.xp6(5),p.Oqu(n.subTitle),p.xp6(5),p.Q6J("ngIf",!i.organization),p.xp6(5),p.Q6J("variant",i.passwordStrengthMap.get(n.id)[1]),p.xp6(1),p.hij("\n                ",p.lcZ(33,9,i.passwordStrengthMap.get(n.id)[0]),"\n              ")}}function tt(n,t){if(1&n&&(p.ynx(0),p._uU(1,"\n      "),p.TgZ(2,"app-callout",8),p.ALo(3,"i18n"),p._uU(4),p.ALo(5,"i18n"),p.ALo(6,"number"),p.qZA(),p._uU(7,"\n      "),p.YNc(8,Rn,6,7,"bit-toggle-group",9),p._uU(9,"\n      "),p.TgZ(10,"table",10),p._uU(11,"\n        "),p.YNc(12,Gn,15,6,"thead",11),p._uU(13,"\n        "),p.TgZ(14,"tbody"),p._uU(15,"\n          "),p.YNc(16,nt,36,11,"tr",12),p._uU(17,"\n        "),p.qZA(),p._uU(18,"\n      "),p.qZA(),p._uU(19,"\n    "),p.BQk()),2&n){const n=p.oxw(2);p.xp6(2),p.s9C("title",p.lcZ(3,5,"weakPasswordsFound")),p.xp6(2),p.hij("\n        ",p.Dn7(5,7,"weakPasswordsFoundReportDesc",p.lcZ(6,11,n.ciphers.length),n.vaultMsg),"\n      "),p.xp6(4),p.Q6J("ngIf",n.showFilterToggle&&!n.isAdminConsoleActive),p.xp6(4),p.Q6J("ngIf",!n.isAdminConsoleActive),p.xp6(4),p.Q6J("ngForOf",n.ciphers)}}function et(n,t){if(1&n&&(p.TgZ(0,"div",5),p._uU(1,"\n    "),p.YNc(2,jn,4,6,"app-callout",6),p._uU(3,"\n    "),p.YNc(4,tt,20,13,"ng-container",0),p._uU(5,"\n  "),p.qZA()),2&n){const n=p.oxw();p.xp6(2),p.Q6J("ngIf",!n.ciphers.length),p.xp6(2),p.Q6J("ngIf",n.ciphers.length)}}function it(n,t){}class ot extends En.m{constructor(n,t,e,i,o,a,r,s){super(n,t,o,e,a,r,s),this.route=i}ngOnInit(){const n=Object.create(null,{ngOnInit:{get:()=>super.ngOnInit}});return $n(this,void 0,void 0,(function*(){this.isAdminConsoleActive=!0,this.route.parent.parent.params.subscribe((t=>$n(this,void 0,void 0,(function*(){this.organization=yield this.organizationService.get(t.organizationId),this.manageableCiphers=yield this.cipherService.getAll(),yield n.ngOnInit.call(this)}))))}))}getAllCiphers(){return this.cipherService.getAllFromApiForOrganization(this.organization.id)}canManageCipher(n){return this.manageableCiphers.some((t=>t.id===n.id))}}ot.ɵfac=function(n){return new(n||ot)(p.Y36(d.u),p.Y36(Mn.A),p.Y36(u.Z),p.Y36(r.gz),p.Y36(s.Mn),p.Y36(c.C),p.Y36(h.D),p.Y36(U._))},ot.ɵcmp=p.Xpm({type:ot,selectors:[["app-weak-passwords-report"]],features:[p.qOj],decls:16,vars:5,consts:[[4,"ngIf"],["class","mt-4",4,"ngIf"],["cipherAddEdit",""],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin","text-muted",3,"title"],[1,"sr-only"],[1,"mt-4"],["type","success",3,"title",4,"ngIf"],["type","success",3,"title"],["type","danger",3,"title"],[3,"selected","selectedChange",4,"ngIf"],[1,"table","table-hover","table-list","table-ciphers"],["class","tw-border-0 tw-border-b-2 tw-border-solid tw-border-secondary-300 tw-font-bold tw-text-muted",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"selected","selectedChange"],[3,"value"],["bitBadge","","variant","info"],[1,"tw-border-0","tw-border-b-2","tw-border-solid","tw-border-secondary-300","tw-font-bold","tw-text-muted"],[1,"table-list-icon"],[3,"cipher"],[1,"reduced-lh","wrap"],[4,"ngIf","ngIfElse"],["cantManage",""],["appStopProp","",3,"disabled","organizationId","organizationName",4,"ngIf"],[1,"text-right"],["bitBadge","",3,"variant"],["href","#","appStopClick","",3,"title","click"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-collection",3,"title"],["appStopProp","","aria-hidden","true",1,"bwi","bwi-paperclip",3,"title"],["appStopProp","",3,"disabled","organizationId","organizationName"]],template:function(n,t){1&n&&(p._UZ(0,"app-header"),p._uU(1,"\n\n"),p.TgZ(2,"bit-container"),p._uU(3,"\n  "),p.TgZ(4,"p"),p._uU(5),p.ALo(6,"i18n"),p.qZA(),p._uU(7,"\n  "),p.YNc(8,Bn,9,6,"div",0),p._uU(9,"\n  "),p.YNc(10,et,6,2,"div",1),p._uU(11,"\n  "),p.YNc(12,it,0,0,"ng-template",null,2,p.W1O),p._uU(14,"\n"),p.qZA(),p._uU(15,"\n")),2&n&&(p.xp6(5),p.Oqu(p.lcZ(6,3,"weakPasswordsReportDesc")),p.xp6(3),p.Q6J("ngIf",!t.hasLoaded&&t.loading),p.xp6(2),p.Q6J("ngIf",t.hasLoaded))},dependencies:[_.sg,_.O5,f.O,Z.o,A.O,x._,b.l,v.e,w.f,q.n,I.C,y.k,_.Ov,_.JJ,T.C,O.l],encapsulation:2});var at=e(34961),rt=e(73369),st=function(n,t,e,i){return new(e||(e=Promise))((function(o,a){function r(n){try{u(i.next(n))}catch(t){a(t)}}function s(n){try{u(i.throw(n))}catch(t){a(t)}}function u(n){var t;n.done?o(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(r,s)}u((i=i.apply(n,t||[])).next())}))};class ut{constructor(n,t,e,i){this.router=n,this.organizationService=t,this.messagingService=e,this.dialogService=i}canActivate(n,t){return st(this,void 0,void 0,(function*(){const t=yield this.organizationService.get(n.params.organizationId);if(null==t)return this.router.createUrlTree(["/"]);if(t.isFreeOrg){if(!t.canEditSubscription)return yield this.dialogService.openSimpleDialog({title:{key:"upgradeOrganizationCloseSecurityGaps"},content:{key:"upgradeOrganizationCloseSecurityGapsDesc"},acceptButtonText:{key:"ok"},cancelButtonText:null,type:"info"}),!1;(yield this.dialogService.openSimpleDialog({title:{key:"upgradeOrganizationCloseSecurityGaps"},content:{key:"upgradeOrganizationCloseSecurityGapsDesc"},acceptButtonText:{key:"upgradeOrganization"},type:"info",icon:"bwi-arrow-circle-up"}))&&(yield this.router.navigate(["organizations",t.id,"billing","subscription"],{queryParams:{upgrade:!0}}))}return!t.isFreeOrg}))}}ut.ɵfac=function(n){return new(n||ut)(p.LFG(r.F0),p.LFG(s.Mn),p.LFG(at.o),p.LFG(rt.x))},ut.ɵprov=p.Yz7({token:ut,factory:ut.ɵfac,providedIn:"root"});var ct=e(47064),lt=e(56992),pt=e(54019),dt=e(59157),gt=e(68362),ht=e(19576),Ut=e(51303),_t=e(69269),ft=e(59778);class Zt{constructor(n){this.message=n.humanReadableMessage,this.appIcon=n.appIcon,this.appName=n.appName,this.userId=n.userId,this.userName=n.userName,this.userEmail=n.userEmail,this.date=n.date,this.ip=n.ip,this.type=Ut.tw[n.type],this.installationId=n.installationId}}var At=function(n,t,e,i){return new(e||(e=Promise))((function(o,a){function r(n){try{u(i.next(n))}catch(t){a(t)}}function s(n){try{u(i.throw(n))}catch(t){a(t)}}function u(n){var t;n.done?o(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(r,s)}u((i=i.apply(n,t||[])).next())}))};class xt{getEventExport(n){return At(this,void 0,void 0,(function*(){return ft.unparse(n.map((n=>new Zt(n))))}))}getFileName(n=null,t="csv"){const e=new Date;return"bitwarden"+(n?"_"+n:"")+"_export_"+(e.getFullYear()+""+this.padNumber(e.getMonth()+1,2)+this.padNumber(e.getDate(),2)+this.padNumber(e.getHours(),2)+this.padNumber(e.getMinutes(),2)+this.padNumber(e.getSeconds(),2))+"."+t}padNumber(n,t,e="0"){const i=n.toString();return i.length>=t?i:new Array(t-i.length+1).join(e)+i}}xt.ɵfac=function(n){return new(n||xt)},xt.ɵprov=p.Yz7({token:xt,factory:xt.ɵfac,providedIn:"root"});var bt=e(65071),mt=e(53883),vt=e(99721),wt=e(53481),qt=function(n,t,e,i){return new(e||(e=Promise))((function(o,a){function r(n){try{u(i.next(n))}catch(t){a(t)}}function s(n){try{u(i.throw(n))}catch(t){a(t)}}function u(n){var t;n.done?o(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(r,s)}u((i=i.apply(n,t||[])).next())}))};class It{constructor(n,t,e,i,o,a){this.eventService=n,this.i18nService=t,this.exportService=e,this.platformUtilsService=i,this.logService=o,this.fileDownloadService=a,this.loading=!0,this.loaded=!1,this.dirtyDates=!0,this.eventsForm=new bt.cw({start:new bt.NI(null),end:new bt.NI(null)}),this.loadMoreEvents=()=>qt(this,void 0,void 0,(function*(){yield this.loadEvents(!1)})),this.refreshEvents=()=>qt(this,void 0,void 0,(function*(){yield this.loadEvents(!0)})),this.exportEvents=()=>qt(this,void 0,void 0,(function*(){if(this.dirtyDates)return;this.loading=!0;const n=this.parseDates();if(null==n)return;let t;try{t=this.export(n[0],n[1]),yield t}catch(e){this.logService.error(`Handled exception: ${e}`)}t=null,this.loading=!1})),this.loadEvents=n=>qt(this,void 0,void 0,(function*(){const t=this.parseDates();if(null==t)return;this.loading=!0;let e,i=[];try{e=this.loadAndParseEvents(t[0],t[1],n?null:this.continuationToken);const o=yield e;this.continuationToken=o.continuationToken,i=o.events}catch(o){this.logService.error(`Handled exception: ${o}`)}!n&&null!=this.events&&this.events.length>0?this.events=this.events.concat(i):this.events=i,this.dirtyDates=!1,this.loading=!1,e=null}));const r=this.eventService.getDefaultDateFilters();this.start=r[0],this.end=r[1]}get start(){return this.eventsForm.value.start}set start(n){this.eventsForm.get("start").setValue(n)}get end(){return this.eventsForm.value.end}set end(n){this.eventsForm.get("end").setValue(n)}loadAndParseEvents(n,t,e){return qt(this,void 0,void 0,(function*(){const i=yield this.requestEvents(n,t,e),o=yield Promise.all(i.data.map((n=>qt(this,void 0,void 0,(function*(){const t=null==n.actingUserId?n.userId:n.actingUserId,e=yield this.eventService.getEventInfo(n),i=this.getUserName(n,t),o=null!=i?i.name:this.i18nService.t("unknown");return new mt.Y({message:e.message,humanReadableMessage:e.humanReadableMessage,appIcon:e.appIcon,appName:e.appName,userId:t,userName:o,userEmail:null!=i?i.email:"",date:n.date,ip:n.ipAddress,type:n.type,installationId:n.installationId,systemUser:n.systemUser,serviceAccountId:n.serviceAccountId})})))));return{continuationToken:i.continuationToken,events:o}}))}parseDates(){let n=null;try{n=this.eventService.formatDateFilters(this.start,this.end)}catch(t){return this.platformUtilsService.showToast("error",this.i18nService.t("errorOccurred"),this.i18nService.t("invalidDateRange")),null}return n}export(n,t){return qt(this,void 0,void 0,(function*(){let e=this.continuationToken,i=[].concat(this.events);for(;null!=e;){const o=yield this.loadAndParseEvents(n,t,e);e=o.continuationToken,i=i.concat(o.events)}const o=yield this.exportService.getEventExport(i),a=this.exportService.getFileName(this.exportFileName,"csv");this.fileDownloadService.download({fileName:a,blobData:o,blobOptions:{type:"text/plain"}})}))}}It.ɵfac=function(n){return new(n||It)(p.Y36(_t.PO),p.Y36(h.D),p.Y36(xt),p.Y36(vt.P),p.Y36(D.$),p.Y36(wt._))},It.ɵdir=p.lG2({type:It});var yt=e(55602),Tt=e(47244),Ot=e(5959),Nt=e(98205),Ct=e(46246),Yt=e(24637),Lt=e(11512),zt=e(36179),Jt=e(54735),Qt=e(50941),St=e(26361),Ft=function(n,t,e,i){return new(e||(e=Promise))((function(o,a){function r(n){try{u(i.next(n))}catch(t){a(t)}}function s(n){try{u(i.throw(n))}catch(t){a(t)}}function u(n){var t;n.done?o(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(r,s)}u((i=i.apply(n,t||[])).next())}))};function kt(n,t){1&n&&(p.ynx(0),p._uU(1,"\n  "),p._UZ(2,"i",9),p.ALo(3,"i18n"),p._uU(4,"\n  "),p.TgZ(5,"span",10),p._uU(6),p.ALo(7,"i18n"),p.qZA(),p._uU(8,"\n"),p.BQk()),2&n&&(p.xp6(2),p.s9C("title",p.lcZ(3,2,"loading")),p.xp6(4),p.Oqu(p.lcZ(7,4,"loading")))}function Pt(n,t){1&n&&(p.TgZ(0,"p"),p._uU(1),p.ALo(2,"i18n"),p.qZA()),2&n&&(p.xp6(1),p.Oqu(p.lcZ(2,1,"noEventsInList")))}function Mt(n,t){if(1&n&&(p.TgZ(0,"tr",16),p._uU(1,"\n        "),p.TgZ(2,"td",17),p._uU(3),p.ALo(4,"date"),p.qZA(),p._uU(5,"\n        "),p.TgZ(6,"td",13),p._uU(7,"\n          "),p.TgZ(8,"span",18),p._uU(9),p.qZA(),p._uU(10,"\n        "),p.qZA(),p._uU(11,"\n        "),p.TgZ(12,"td",13),p._uU(13,"\n          "),p.TgZ(14,"span",18),p._uU(15),p.qZA(),p._uU(16,"\n        "),p.qZA(),p._uU(17,"\n        "),p._UZ(18,"td",19),p._uU(19,"\n      "),p.qZA()),2&n){const n=t.$implicit;p.xp6(3),p.Oqu(p.xi3(4,7,n.date,"medium")),p.xp6(5),p.hYB("title","",n.appName,", ",n.ip,""),p.xp6(1),p.Oqu(n.appName),p.xp6(5),p.s9C("title",n.userEmail),p.xp6(1),p.Oqu(n.userName),p.xp6(3),p.Q6J("innerHTML",n.message,p.oJD)}}function Et(n,t){if(1&n&&(p._uU(0,"\n      "),p.YNc(1,Mt,20,10,"tr",15),p._uU(2,"\n    ")),2&n){const n=p.oxw(3);p.xp6(1),p.Q6J("ngForOf",n.events)}}function $t(n,t){1&n&&(p.TgZ(0,"bit-table"),p._uU(1,"\n    "),p.ynx(2,12),p._uU(3,"\n      "),p.TgZ(4,"tr"),p._uU(5,"\n        "),p.TgZ(6,"th",13),p._uU(7),p.ALo(8,"i18n"),p.qZA(),p._uU(9,"\n        "),p.TgZ(10,"th",13),p._uU(11),p.ALo(12,"i18n"),p.qZA(),p._uU(13,"\n        "),p.TgZ(14,"th",13),p._uU(15),p.ALo(16,"i18n"),p.qZA(),p._uU(17,"\n        "),p.TgZ(18,"th",13),p._uU(19),p.ALo(20,"i18n"),p.qZA(),p._uU(21,"\n      "),p.qZA(),p._uU(22,"\n    "),p.BQk(),p._uU(23,"\n    "),p.YNc(24,Et,3,1,"ng-template",14),p._uU(25,"\n  "),p.qZA()),2&n&&(p.xp6(7),p.Oqu(p.lcZ(8,4,"timestamp")),p.xp6(4),p.Oqu(p.lcZ(12,6,"client")),p.xp6(4),p.Oqu(p.lcZ(16,8,"member")),p.xp6(4),p.Oqu(p.lcZ(20,10,"event")))}function Bt(n,t){if(1&n&&(p.TgZ(0,"button",20),p._uU(1),p.ALo(2,"i18n"),p.qZA()),2&n){const n=p.oxw(2);p.Q6J("bitAction",n.loadMoreEvents),p.xp6(1),p.hij("\n    ",p.lcZ(2,2,"loadMore"),"\n  ")}}function jt(n,t){if(1&n&&(p.ynx(0),p._uU(1,"\n  "),p.YNc(2,Pt,3,3,"p",8),p._uU(3,"\n  "),p.YNc(4,$t,26,12,"bit-table",8),p._uU(5,"\n  "),p.YNc(6,Bt,3,4,"button",11),p._uU(7,"\n"),p.BQk()),2&n){const n=p.oxw();p.xp6(2),p.Q6J("ngIf",!n.events||!n.events.length),p.xp6(2),p.Q6J("ngIf",n.events&&n.events.length),p.xp6(2),p.Q6J("ngIf",n.continuationToken)}}const Dt={[Ut.gJ.SCIM]:null,[Ut.gJ.DomainVerification]:"domainVerification"};class Rt extends It{constructor(n,t,e,i,o,a,r,s,u,c,l,p,d){super(e,i,o,a,s,d),this.apiService=n,this.route=t,this.router=r,this.userNamePipe=u,this.organizationService=c,this.organizationUserService=l,this.providerService=p,this.exportFileName="org-events",this.orgUsersUserIdMap=new Map,this.destroy$=new pt.x}ngOnInit(){return Ft(this,void 0,void 0,(function*(){this.route.params.pipe((0,dt.b)((n=>Ft(this,void 0,void 0,(function*(){this.organizationId=n.organizationId,this.organization=yield this.organizationService.get(this.organizationId),null!=this.organization&&this.organization.useEvents?yield this.load():yield this.router.navigate(["/organizations",this.organizationId])})))),(0,gt.R)(this.destroy$)).subscribe()}))}load(){return Ft(this,void 0,void 0,(function*(){if((yield this.organizationUserService.getAllUsers(this.organizationId)).data.forEach((n=>{const t=this.userNamePipe.transform(n);this.orgUsersUserIdMap.set(n.userId,{name:t,email:n.email})})),null!=this.organization.providerId)try{if(null!=(yield this.providerService.get(this.organization.providerId))&&(yield this.providerService.get(this.organization.providerId)).canManageUsers){(yield this.apiService.getProviderUsers(this.organization.providerId)).data.forEach((n=>{const t=this.userNamePipe.transform(n);this.orgUsersUserIdMap.set(n.userId,{name:`${t} (${this.organization.providerName})`,email:n.email})}))}}catch(n){this.logService.warning(n)}yield this.refreshEvents(),this.loaded=!0}))}requestEvents(n,t,e){return this.apiService.getEventsOrganization(this.organizationId,n,t,e)}getUserName(n,t){if(null!=n.installationId)return`Installation: ${n.installationId}`;if(null!=t){if(this.orgUsersUserIdMap.has(t))return this.orgUsersUserIdMap.get(t);if(null!=n.providerId&&n.providerId===this.organization.providerId)return{name:this.organization.providerName}}if(null!=n.systemUser){const t=Dt[n.systemUser];return t?{name:this.i18nService.t(t)}:{name:Ut.gJ[n.systemUser]}}return n.serviceAccountId?{name:this.i18nService.t("machineAccount")+" "+this.getShortId(n.serviceAccountId)}:null}getShortId(n){return null==n?void 0:n.substring(0,8)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}Rt.ɵfac=function(n){return new(n||Rt)(p.Y36(yt.s),p.Y36(r.gz),p.Y36(_t.PO),p.Y36(h.D),p.Y36(xt),p.Y36(vt.P),p.Y36(r.F0),p.Y36(D.$),p.Y36(ht.z),p.Y36(s.Mn),p.Y36(Tt.t),p.Y36(Ot.H),p.Y36(wt._))},Rt.ɵcmp=p.Xpm({type:Rt,selectors:[["app-org-events"]],features:[p.qOj],decls:54,vars:24,consts:[[1,"tw-mb-4",3,"formGroup"],[1,"tw-mt-4","tw-flex","tw-items-center"],["bitInput","","type","datetime-local","formControlName","start",3,"placeholder","change"],[1,"tw-mx-2"],["bitInput","","type","datetime-local","formControlName","end",3,"placeholder","change"],["type","button","bitButton","","bitFormButton","","buttonType","primary",1,"tw-mx-3","tw-mt-1",3,"bitAction"],["type","button","bitButton","","bitFormButton","",1,"tw-mt-1",3,"bitAction","disabled"],["aria-hidden","true",1,"bwi","bwi-fw","bwi-sign-in"],[4,"ngIf"],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin","tw-text-muted",3,"title"],[1,"tw-sr-only"],["type","button","bitButton","","buttonType","primary",3,"bitAction",4,"ngIf"],["header",""],["bitCell",""],["body",""],["bitRow","","alignContent","top",4,"ngFor","ngForOf"],["bitRow","","alignContent","top"],["bitCell","",1,"tw-whitespace-nowrap"],[3,"title"],["bitCell","",3,"innerHTML"],["type","button","bitButton","","buttonType","primary",3,"bitAction"]],template:function(n,t){1&n&&(p._UZ(0,"app-header"),p._uU(1,"\n\n"),p.TgZ(2,"div",0),p._uU(3,"\n  "),p.TgZ(4,"div",1),p._uU(5,"\n    "),p.TgZ(6,"bit-form-field"),p._uU(7,"\n      "),p.TgZ(8,"bit-label"),p._uU(9),p.ALo(10,"i18n"),p.qZA(),p._uU(11,"\n      "),p.TgZ(12,"input",2),p.NdJ("change",(function(){return t.dirtyDates=!0})),p.ALo(13,"i18n"),p.qZA(),p._uU(14,"\n    "),p.qZA(),p._uU(15,"\n    "),p.TgZ(16,"span",3),p._uU(17,"-"),p.qZA(),p._uU(18,"\n    "),p.TgZ(19,"bit-form-field"),p._uU(20,"\n      "),p.TgZ(21,"bit-label"),p._uU(22),p.ALo(23,"i18n"),p.qZA(),p._uU(24,"\n      "),p.TgZ(25,"input",4),p.NdJ("change",(function(){return t.dirtyDates=!0})),p.ALo(26,"i18n"),p.qZA(),p._uU(27,"\n    "),p.qZA(),p._uU(28,"\n    "),p.TgZ(29,"form"),p._uU(30,"\n      "),p.TgZ(31,"button",5),p._uU(32),p.ALo(33,"i18n"),p.qZA(),p._uU(34,"\n    "),p.qZA(),p._uU(35,"\n    "),p.TgZ(36,"form"),p._uU(37,"\n      "),p.TgZ(38,"button",6),p._uU(39,"\n        "),p.TgZ(40,"span"),p._uU(41),p.ALo(42,"i18n"),p.qZA(),p._uU(43,"\n        "),p._UZ(44,"i",7),p._uU(45,"\n      "),p.qZA(),p._uU(46,"\n    "),p.qZA(),p._uU(47,"\n  "),p.qZA(),p._uU(48,"\n"),p.qZA(),p._uU(49,"\n"),p.YNc(50,kt,9,6,"ng-container",8),p._uU(51,"\n"),p.YNc(52,jt,8,3,"ng-container",8),p._uU(53,"\n")),2&n&&(p.xp6(2),p.Q6J("formGroup",t.eventsForm),p.xp6(7),p.Oqu(p.lcZ(10,12,"from")),p.xp6(3),p.s9C("placeholder",p.lcZ(13,14,"startDate")),p.xp6(10),p.Oqu(p.lcZ(23,16,"to")),p.xp6(3),p.s9C("placeholder",p.lcZ(26,18,"endDate")),p.xp6(6),p.Q6J("bitAction",t.refreshEvents),p.xp6(1),p.hij("\n        ",p.lcZ(33,20,"update"),"\n      "),p.xp6(6),p.Q6J("bitAction",t.exportEvents)("disabled",t.dirtyDates),p.xp6(3),p.Oqu(p.lcZ(42,22,"export")),p.xp6(9),p.Q6J("ngIf",!t.loaded),p.xp6(2),p.Q6J("ngIf",t.loaded))},dependencies:[_.sg,_.O5,bt._Y,bt.Fj,bt.JJ,bt.JL,bt.F,bt.sg,bt.u,Nt.Q,Ct.b,m.r,Yt.d,Lt.G,zt.u,Jt.a,Qt.Y,St.v,Jt.f,y.k,_.uU,T.C],encapsulation:2});var Gt=e(67775),Ht=e(92786),Wt=e(53634),Kt=e(28315),Xt=e(2930);function Vt(n,t){if(1&n&&(p.ynx(0),p._uU(1,"\n  "),p._UZ(2,"app-header"),p._uU(3,"\n\n  "),p.TgZ(4,"p",3),p._uU(5),p.ALo(6,"i18n"),p.qZA(),p._uU(7,"\n\n  "),p._UZ(8,"app-report-list",4),p.ALo(9,"async"),p._uU(10,"\n"),p.BQk()),2&n){const n=p.oxw();p.xp6(5),p.Oqu(p.lcZ(6,2,"orgsReportsDesc")),p.xp6(3),p.Q6J("reports",p.lcZ(9,4,n.reports$))}}function ne(n,t){1&n&&(p.TgZ(0,"a",5),p._uU(1,"\n    "),p._UZ(2,"i",6),p._uU(3),p.ALo(4,"i18n"),p.qZA()),2&n&&(p.xp6(3),p.hij("\n    ",p.lcZ(4,1,"backToReports"),"\n  "))}class te{constructor(n,t,e){this.route=n,this.organizationService=t,this.router=e}ngOnInit(){this.homepage$=this.router.events.pipe((0,Gt.h)((n=>n instanceof r.m2)),(0,Ht.U)((n=>this.isReportsHomepageRouteUrl(n.urlAfterRedirects))),(0,Wt.O)(this.isReportsHomepageRouteUrl(this.router.url))),this.reports$=this.route.params.pipe((0,dt.b)((n=>this.organizationService.get$(n.organizationId))),(0,Ht.U)((n=>this.buildReports(n.isFreeOrg))))}buildReports(n){const t=n?a.x6.RequiresUpgrade:a.x6.Enabled;return[Object.assign(Object.assign({},a.Gm[a.C2.ExposedPasswords]),{variant:t}),Object.assign(Object.assign({},a.Gm[a.C2.ReusedPasswords]),{variant:t}),Object.assign(Object.assign({},a.Gm[a.C2.WeakPasswords]),{variant:t}),Object.assign(Object.assign({},a.Gm[a.C2.UnsecuredWebsites]),{variant:t}),Object.assign(Object.assign({},a.Gm[a.C2.Inactive2fa]),{variant:t})]}isReportsHomepageRouteUrl(n){return n.endsWith("/reports")}}te.ɵfac=function(n){return new(n||te)(p.Y36(r.gz),p.Y36(s.Mn),p.Y36(r.F0))},te.ɵcmp=p.Xpm({type:te,selectors:[["app-org-reports-home"]],decls:11,vars:6,consts:[[4,"ngIf"],[1,"tw-mt-4"],["bitButton","","routerLink","./",4,"ngIf"],["bitTypography","body1"],[3,"reports"],["bitButton","","routerLink","./"],["aria-hidden","true",1,"bwi","bwi-angle-left"]],template:function(n,t){1&n&&(p.YNc(0,Vt,11,6,"ng-container",0),p.ALo(1,"async"),p._uU(2,"\n\n"),p._UZ(3,"router-outlet"),p._uU(4,"\n\n"),p.TgZ(5,"div",1),p._uU(6,"\n  "),p.YNc(7,ne,5,3,"a",2),p.ALo(8,"async"),p._uU(9,"\n"),p.qZA(),p._uU(10,"\n")),2&n&&(p.Q6J("ngIf",p.lcZ(1,2,t.homepage$)),p.xp6(7),p.Q6J("ngIf",!p.lcZ(8,4,t.homepage$)))},dependencies:[_.O5,r.lC,r.rH,m.r,Kt.t,Xt.s,y.k,_.Ov,T.C],encapsulation:2});const ee=[{path:"",canActivate:[ct.G],data:{organizationPermissions:s.$G},children:[{path:"",pathMatch:"full",canActivate:[lt.S],data:{autoRedirectCallback:function(n){if(n.canAccessEventLogs)return"events";if(n.canAccessReports)return"reports";return}},children:[]},{path:"reports",component:te,canActivate:[ct.G],data:{titleId:"reports"},children:[{path:"exposed-passwords-report",component:B,data:{titleId:"exposedPasswordsReport"},canActivate:[ut]},{path:"inactive-two-factor-report",component:un,data:{titleId:"inactive2faReport"},canActivate:[ut]},{path:"reused-passwords-report",component:qn,data:{titleId:"reusedPasswordsReport"},canActivate:[ut]},{path:"unsecured-websites-report",component:Pn,data:{titleId:"unsecuredWebsitesReport"},canActivate:[ut]},{path:"weak-passwords-report",component:ot,data:{titleId:"weakPasswordsReport"},canActivate:[ut]}]},{path:"events",component:Rt,canActivate:[ct.G],data:{titleId:"eventLogs",organizationPermissions:n=>n.canAccessEventLogs}}]}];class ie{}ie.ɵfac=function(n){return new(n||ie)},ie.ɵmod=p.oAB({type:ie}),ie.ɵinj=p.cJS({imports:[r.Bz.forChild(ee),r.Bz]});class oe{}oe.ɵfac=function(n){return new(n||oe)},oe.ɵmod=p.oAB({type:oe}),oe.ɵinj=p.cJS({imports:[o.m,a.FX,ie,i.f]})}}]);
//# sourceMappingURL=979.d8eba5062c1ec7382639.js.map