!function(){"use strict";var e={23470:function(e,t,o){o.r(t)}},t={};function o(n){var c=t[n];if(void 0!==c)return c.exports;var d=t[n]={exports:{}};return e[n](d,d.exports,o),d.exports}o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){function e(e){const t=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");const o=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null}o(23470);function t(){const e=("; "+document.cookie).split("; duoHandOffMessage=").pop().split(";").shift(),t=JSON.parse(decodeURIComponent(e));document.cookie="duoHandOffMessage=;SameSite=strict;max-age=0";const o=document.getElementById("content");o.className="text-center",o.innerHTML="";const n=document.createElement("h1"),c=document.createElement("p"),d=document.createElement("button");if(n.textContent=t.title,c.textContent=t.message,d.textContent=t.buttonText,n.className="font-weight-semibold",c.className="mb-4",d.className="bg-primary text-white border-0 rounded py-2 px-3",d.addEventListener("click",(()=>{window.close()})),o.appendChild(n),o.appendChild(c),t.buttonText&&o.appendChild(d),t.isCountdown){let e=Number(c.textContent.match(/\d+/)[0]);const t=setInterval((()=>{e>1?(c.textContent=c.textContent.replace(String(e),String(e-1)),e--):(clearInterval(t),window.close())}),1e3)}}window.addEventListener("load",(()=>{const o=e("duoFramelessUrl"),n=e("handOffMessage");if(o)return void function(e,t){const o=new URL(e);if("https:"!==o.protocol||!o.hostname.endsWith("duosecurity.com"))throw new Error("Invalid redirect URL");document.cookie=`duoHandOffMessage=${t}; SameSite=strict;`,window.location.href=decodeURIComponent(e)}(o,n);const c=e("client"),d=e("code"),s=e("state");if("web"===c){const e=new BroadcastChannel("duoResult");e.postMessage({code:d,state:s}),e.close(),t()}else"browser"===c?(window.postMessage({command:"duoResult",code:d,state:s},"*"),t()):"mobile"!==c&&"desktop"!==c||("desktop"===c&&t(),document.location.replace("bitwarden://duo-callback?code="+encodeURIComponent(d)+"&state="+encodeURIComponent(s)))}))}()}();
//# sourceMappingURL=duo-redirect.1933e3b664c011805605.js.map